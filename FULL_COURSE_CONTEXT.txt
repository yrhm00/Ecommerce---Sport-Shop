jaime lme caca

==================================================
FILE: Labos/Labo Spring 1 - Première application Web.pdf
==================================================

  
Développement avancé d’application Web
Développement d’application – Bloc 3
Haute-École de Namur-Liège-Luxembourg
Labo Spring 1
- Première application Web -
Objectif
 Créer une première application Web en utilisant Spring Boot
Étape 1 : IntelliJ
Utilisez IntelliJ IDEA Ultimate (<> Community).
Si nécessaire, accès à la licence Ultimate via l’adresse mail Henallux (compte 
JetBrains).
Étape 2 : Création d’un nouveau projet
Pour rappel, ce qui identifie une classe en Java c’est le nom de la classe préfixé 
de son package. L’identifiant d’une classe ne doit contenir aucun espace. 
- Veillez donc toujours à ce qu’un projet java (et donc ses packages) soit placé 
dans un répertoire dont le path (l’adresse complète) ne comprend aucun espace 
ni caractères spéciaux ! 
- Ne jamais utiliser en programmation Java de répertoire dont le nom contient un 
espace. 
Spring Application Framework
Spring est un framework Open Source qui simplifie le développement 
d’application Java pour les entreprises. 
Il supporte l’injection de dépendance et l’inversion de contrôle (voir plus loin).
1

Spring Boot 
Spring Boot est une extension du framework Spring qui simplifie la configuration 
initiale d’une application Spring en proposant des configurations minimales.
pom.xml
Le fichier pom.xml est le fichier de configuration pour les applications Spring. Il 
contient entre autres les définitions des dépendances qui seront utilisées dans le 
projet.
Un squelette de projet a été déposé sur GitLab à l’adresse suivante :
https://gitlab.com/bastien.bodart.henallux/ig308-public
Dans IntelliJ, clonez ce projet à l’aide de son adresse publique
https://gitlab.com/bastien.bodart.henallux/ig308-public.git
Validez la confiance à ce projet si la question est posée par l’IDE .
2
Fichier pom.xml (extrait) :
Étape 3 – Serveur Tomcat
Tomcat est le serveur d’applications Web sur lequel les servlets et pages jsp 
seront déployées. Le serveur Tomcat sera installé en local sur votre machine.
Pour ce faire, une dépendance a été ajoutée dans le pom.xml :
Étape 4 : JSTL
JSTL
JavaServer Pages Standard Tag Library est une librairie de fonctions permettant 
entre autres de fournir du contenu dynamique dans les pages JSP.
Pour permettre l’utilisation de JSTL, une dépendance a été ajoutée dans le 
pom.xml :
3

Étape 5 : Page welcome.jsp
Page JSP
Les pages jsp représentent la partie Vue de l’application Web. JavaServer Pages 
est une technologie permettant de générer dynamiquement des pages Web. Ces 
pages contiennent des expressions statiques (html) et des éléments JSP 
permettant de construire le contenu dynamiquement. 
Les pages web (couche vue) sont regroupées dans le répertoire webapp. Les 
pages jsp seront placées dans le répertoire jsp se trouvant dans le sous-
répertoire WEB-INF de webapp.
Soit la structure du projet : 
Adaptez le code de la page web welcome.jsp qui se trouve dans le répertoire jsp. 
Cette page doit contenir un message de bienvenue sur le site. 
Étape 6 – ViewResolver
Inversion de contrôle et injection de dépendances               
Le framework Spring permet l’inversion de contrôle (ex : le programmeur ne crée 
plus certains objets, c’est Spring qui gère le cycle de vie de ces objets) par 
injection de dépendance (création automatique par Spring d’objets appelés 
beans). Les informations nécessaires à Spring pour créer ces beans sont 
précisées soit dans des fichiers XML de configuration soit via annotations (ex : 
@Bean).
4

Classe de configuration
Les classes annotées @Configuration contiennent des méthodes de définition de 
beans. Ces méthodes sont annotées @Bean. Une méthode annotée @Bean est 
appelée par Spring pour créer et initialiser un objet (un bean). Le bean généré 
sera du type de retour de la méthode et, sauf mention contraire, portera le nom 
de la méthode. 
ViewResolver
Le rôle du ViewResolver est de localiser les pages JSP à partir du répertoire où 
elles sont stockées ainsi que de leur suffixe jsp.
L’objet ViewResolver sera créé par injection de dépendance. Dans notre 
application, il va rajouter devant le nom de chaque page jsp retournée par un 
controller (voir ci-après) le préfixe "/WEB-INF/jsp/" (le répertoire contenant les 
pages jsp) et y ajouter le suffixe ".jsp".
Les classes de configuration sont placées dans le package configuration.
N.B. Le package configuration contient une classe TilesConfiguration dont le code 
est pour l’instant commenté. Cette classe sera utilisée dans le labo 2. Ne 
supprimez pas cette classe.
Adaptez le code de la classe MainConfiguration qui doit contenir un bean de type 
ViewResolver.
La classe doit être annotée @Configuration et implémenter WebMvcConfigurer.
La méthode créant un objet de type ViewResolver doit être annotée @Bean 
(injection de dépendance). Lors du déploiement de l’application, un objet bean de 
type ViewResolver portant le nom de la méthode sera créé automatiquement (il 
sera donc nommé viewResolver).
5

Étape 7 – Fichier application.yml
application.yml
Le fichier application.yml est un fichier de configuration de propriétés externes. 
Celui-ci permet de préciser les paramètres pour le déploiement de l’application 
(port d’écoute, url de la racine, ressource de type base de données…)
Adaptez le contenu du fichier application.yml qui se trouve dans 
src/main/resources. 
 
Port : port d’écoute
ContextPath : path/url de la racine du projet
Attention : Ce type de fichier est très sensible aux indentations et espaces : 
exactement 2 espaces avant chaque niveau d’indentation et aucun espace à la 
fin d’une ligne, ni de ligne blanche en fin de fichier !
Les informations de ce fichier seront utilisées lors de l’appel des pages dans un 
navigateur (quand l’application sera déployée - voir plus loin). 
Si l’application est déployée localement : 
6

Étape 8 – Welcome Controler
Controller
Les classes de type controller (annotées @Controller) contiennent les méthodes 
qui seront appelées par Spring en réponse aux requêtes http (GET ou POST). A 
une URL doit donc correspondre une méthode. Cette correspondance est établie 
via le mécanisme du Request Mapping (via @RequestMapping dans la déclaration 
des classes de type controller et dans la déclaration des méthodes de ces 
classes).
L’URL est constituée de /décomposée en :
l’URL de la racine du projet (cf. fichier application.yml) 
+ valeur du RequestMapping de la déclaration de la classe controller
+ valeur du RequestMapping de la déclaration de la méthode.
Les annotations GetMapping et PostMapping peuvent être également utilisées.
Les classes controllers seront placées dans le package controller.
Créez le package controller au même niveau que le package configuration.
Créez la classe WelcomeController qui doit être annotée @Controller. 
Ce controller contient une méthode de mapping GET qui retourne la page 
welcome.jsp. Précisez le path/url correspondant à l’appel de ce controller via 
l’annotation.
La valeur du Mapping sera utilisée dans l’URL à contacter.
7

Etape 9 – Maven Build
Maven
Maven est un outil facilitant entre autres la construction (build) d’une application 
en utilisant les dépendances et autres informations de configuration spécifiées 
dans le fichier pom.xml.
Nous allons créer un script constitué des étapes clean et install. Il suffira ensuite 
de lancer ce script chaque fois que des modifications seront apportées (par 
exemple, lorsqu’une nouvelle dépendance aura été ajoutée dans le pom.xml). 
Créez une "run configuration" pour Maven. Celle-ci permettra de facilement faire 
un clean du projet suivi d’une installation. 
8

Etape 10 – Déploiement de l’application Web
Build (clean + install) de l’application (si nécessaire)
Lancez le build Maven de votre application
Déploiement de l’application sur le serveur Tomcat
FirstSpringProjectApplication  Run
Test de l’application web
Dans un navigateur :  
9

En cas de problème…
Si vous avez une erreur de type site inaccessible, vérifiez que l’url que vous 
introduisez dans le navigateur est bien formée et corresponde bien à la 
combinaison du port (8082) + du contextPath (/firstSpring) tels que définis dans 
le fichier application.yml, suivie de l’url définie dans le @RequestMapping de la 
classe WelcomeController (/hello). Vérifiez que les valeurs du port, du 
contextPath et du @RequestMapping sont correctement définies dans votre code.
Si vous avez une erreur de type Whitelabel Error Page … (type=Not Found, 
satus=404), vérifiez la structure de vos répertoires et vérifiez enfin la syntaxe de 
la méthode viewResolver de la classe MainConfiguration 
(préfixe ="/WEB-INF/jsp/" et suffixe = ".jsp").
Pour aller plus loin
Etape 11 – Transfert d’une donnée du controller vers une page 
web
Objectif 
 Transférer une donnée du controller vers la page jsp afin de l’afficher
Model Dictionary
Il est possible de transférer des données d’un controller vers une page jsp à 
travers un dictionnaire composé de paires clé-valeur. Ce dictionnaire est un objet 
de la classe Model qui peut être reçu en argument des méthodes dans les 
controllers ; il suffit d’ajouter une paire clé-valeur dans le dictionnaire.
Ce dictionnaire est directement accessible au sein ses pages jsp. Celles-ci 
peuvent récupérer les valeurs des entrées du dictionnaire à partir des clés via la 
syntaxe ${clé}
Imaginons que le WelcomeController veuille afficher un nom en particulier.
Pour ce faire, ajoutez un attribut au dictionnaire de type Model. Ajoutez-y une 
nouvelle entrée (paire clé-valeur) dont la clé est "name" et la valeur est une 
String correspondant au nom. 
Récupérez la valeur de cet attribut du Model et affichez-la dans la page jsp, via 
l’instruction ${name}.
10
11



==================================================
FILE: Labos/Labo Spring 2 - Template.pdf
==================================================

  
Développement avancé d’application Web
Développement d’application – Bloc 3
Haute-École de Namur-Liège-Luxembourg
Labo Spring 2
- Template -
Objectif
Utiliser un template pour standardiser l’apparence de toutes les 
pages jsp.
N.B. Vous devez implémenter les étapes 1 à 6 avant de pouvoir 
déployer et tester votre application Web.
Étape 1 : pom.xml
Une dépendance est présente dans le pom.xml pour pouvoir utiliser la librairie 
Tiles permettant d’appliquer des templates aux pages jsp.
Etape 2 – Import des librairies de tags
Plusieurs librairies de tags devront être importées dans toutes les pages jsp. Ces 
imports vont être placés une fois pour toutes dans le fichier importTags.jsp qui 
sera lui-même importé dans toutes les pages jsp.
Créez un répertoire include dans WEB-INF/jsp.
Créez-y le fichier importTags.jsp qui contient les différents imports de librairies 
de tags.
New  File  Name : importTags.jsp
1
 

Librairie de tags
Des librairies de tags peuvent être utilisées dans les pages jsp. 
A chaque librairie de tags va être associé un préfixe. 
Par exemple, une librairie propose des balises pour la gestion des formulaires ; 
on va lui associer le préfixe "form" :
<%@ taglib  prefix="form"   uri="http://www.springframework.org/tags/form" %>
Chaque fois que le programmeur souhaitera utiliser une balise de cette librairie, il 
devra la préfixer par "form". Par exemple pour appeler la balise "button" de cette 
librairie pour créer un bouton dont l’intitulé est "Submit", il faut écrire : 
<form:button>Submit</form:button>
Déclarez les librairies suivantes dans le fichier importTags.jsp :
Adaptez la page welcome.jsp (et toutes les futures pages) : ajoutez-y l’include du 
fichier importTags.jsp. 
2

Etape 3 - Création du template
Template
Le template est une page jsp qui contient la structure commune à toutes les 
pages et qui servira donc de base à la création de toutes les autres pages.
Créez un répertoire template dans WEB-INF/jsp.
Créez-y le fichier template.jsp.
Implémentez le format de template de votre choix. Prévoyez un bandeau dans la 
partie supérieure de chaque page (ex : nom du site, messages, liens et infos 
diverses…) et un pied de page dans la partie inférieure de chaque page (ex : 
copyright, autres liens utiles…). Des images (logo…) pourront être ultérieurement 
ajoutées dans le template (voir étape 8).
Nous allons utiliser tiles comme gestionnaire de template. Ajoutez pour ce faire 
la librairie correspondante dans le template.jsp :
<%@ taglib uri="http://tiles.apache.org/tags-tiles" prefix="tiles"%>
N’oubliez pas d’inclure le fichier importTags.jsp en spécifiant le chemin correct.
Ajoutez ensuite dans template.jsp un tag <tiles:insertAttribute> afin de définir la 
zone éditable, c’est-à-dire la zone qui sera remplacée par le contenu de la page 
client. Donnez un nom à cette zone : "main-content". La zone main_content du 
template sera donc remplacée par le contenu de chaque page jsp.
3

Etape 4 – tiles.xml
Fichier de configuration du template
Le fichier tiles.xml contient la définition du template à utiliser et des informations 
sur l’appel des pages jsp sur base du template.
Le répertoire resources dans WEB-INF contient le fichier de configuration 
tiles.xml.
4

Ce fichier de configuration précise entre autres :
- Le nom donné à la zone du template qui devra être remplacée par le contenu 
de chaque page (ici : "main-content") ; la zone main_content du template sera 
donc remplacée par le contenu de chaque page jsp.
- La chaîne de caractères qu’on utilisera pour préfixer le nom des pages jsp 
auxquelles on veut appliquer le template (ici : "integrated:"). L’appel des pages 
jsp devra désormais être préfixé de "integrated :" pour que le template soit 
appliqué. Notez que "integrated" n’est pas un mot réservé. On peut choisir 
n’importe quelle chaîne de caractères. Pour rappel, le nom des pages jsp à 
afficher est précisé dans le résultat (return) des méthodes get des controllers. 
C’est donc dans le return de ces méthodes que le nom des pages jsp sera préfixé 
de "integrated:" (cf. étape 6).
Etape 5 – TilesConfigurer et ViewResolver
Rôle du ViewResolver
Pour rappel, le rôle d’un ViewResolver est de localiser les pages JSP à partir entre 
autres du répertoire où elles sont stockées et de leur suffix jsp.
Il faut adapter le ViewResolver de la série 1 afin que le template soit pris en 
compte.
Adaptez la classe MainConfiguration : supprimez le bean ViewResolver (ou 
mettez-le en commentaires).
La classe TilesConfiguration dans le package configuration contient 2 beans : 
TilesConfigurer et ViewResolver (injection de dépendance). Décommentez les 
méthodes de cette classe.
Le bean tilesConfigurer permet entre autres de préciser où se trouve le fichier de 
configuration de Tiles (tiles.xml).
5

6

Etape 6 - Appel des pages jsp dans les controllers
L’appel de toute page jsp dans un controller doit désormais être préfixé de 
"integrated :", comme renseigné dans le fichier tiles.xml, pour que le template 
soit appliqué sur ces pages.
Déployez l’application et testez-la.
7

En cas d’erreur…
Comme précisé dans le labo 1, vérifiez que le path de votre application ne 
contient aucun nom de répertoire avec des espaces ou des caractères spéciaux.
Les erreurs les plus fréquentes viennent aussi souvent d’une mauvaise structure 
des répertoires. Vérifiez la structure de votre application.
Etape 7 – Utilisation de CSS
Créez un répertoire css dans src/main/webapp.
Placez-y un fichier CSS de votre choix.
8

Utilisez ce fichier CSS dans la partie head du template en utilisant <spring :url> 
pour définir le chemin du fichier CSS.
Etape 8 – Images
Créez un répertoire images dans src/main/webapp.
Placez-y des fichiers image.
Affichez ces images dans le template en utilisant <spring :url> pour définir le 
chemin de l’image (placez par exemple le logo du site dans le bandeau du 
template).
Etape 9 – Balise <title> des pages
Modifiez l’intitulé de l’onglet correspondant à la page.
Les valeurs des intitulés de page devront être fournies par les controllers via un 
attribut du dictionnaire Model appelé par exemple title. Pour associer un attribut 
au model, référez-vous à l’étape 11 du labo 1.
9

Récupérez la valeur de cet attribut du Model et affichez-la dans la balise <title> 
dans <head> du template.
10


==================================================
FILE: Labos/Labo Spring 3 - Formulaire.pdf
==================================================

1 
 
 
Développement avancé d’application Web 
Informatique de gestion – Bloc 3 
Haute-École de Namur-Liège-Luxembourg 
 
Labo Spring 3 
- Formulaire - 
Objectif 
• Créer des formulaires et les valider 
Un formulaire va être ajouté dans la page welcome.jsp afin de demander à 
l’utilisateur une clé (un code) permettant d’accéder à la suite de l’application 
Web. 
Maven Build 
Si vous ne l’avez pas encore fait, créez un script constitué des étapes clean et 
install. Il suffira ensuite de lancer ce script chaque fois que des modifications 
seront apportées (par exemple, lorsqu’une nouvelle dépendance aura été ajoutée 
dans le pom.xml). 
Créez une "launch configuration". Celle-ci permettra de facilement faire un clean 
du projet suivi d’une installation. 
 
 
 
Sélectionnez le projet dans la barre de navigation 
 Edit Configurations  Clic sur le symbole +  Maven  
Name : donner un nom            Par exemple : firstSpringProject[clean,install] 
 Run: clean install 
 
 
 
 
 
2 
 
 
  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 Apply  OK 
 
Etape 1 – Classe modèle MagicKeyForm 
Data Binding entre une page Web et une classe modèle 
Pour chaque formulaire de saisie de données prévu dans une page jsp doit être 
créée une classe modèle dont chaque variable d’instance (privée) correspondra à 
un champ du formulaire (+ getters/setters publiques et au moins un constructeur 
sans argument).  
Le but est que, par Data Binding, Spring affecte à chaque variable d’instance 
(de la classe modèle) la valeur introduite par l’utilisateur dans le champ du 
formulaire correspondant. 
 
Créez le package model dans com.spring.henallux.firstSpringProject. 
 

3 
 
Créez-y la classe MagicKeyForm qui contient une variable d’instance privée de 
type String appelée magicKey.  
Prévoyez le getter et le setter publiques pour cette variable d’instance ainsi que, 
au minimum, le constructeur sans argument. 
 
 
 
 
 
 
 
Etape 2 – Formulaire dans la page welcome.jsp 
Ajoutez dans la page welcome.jsp le formulaire ci-dessous de saisie d’une clé 
permettant de continuer à naviguer sur le site. Placez dans le formulaire un 
bouton appelé Send.  
 
 
Attention, vous devez utiliser la balise <form:form> pour créer le formulaire 
ainsi que les balises <form:label> pour le label, <form:input> pour la zone de 
saisie et <form:button> pour le bouton.  
Référez-vous au cours pour construire ce formulaire (Cf. Module 6 – Controller  
Voir Form Controller – Jsp Page). 
 
Etape 3 – Classe WelcomeController 
Soumettre un formulaire (post) 
Un clic sur un bouton de soumission d’un formulaire a pour effet d’appeler une 
méthode post du controller. La méthode correspondante doit être déclarée de 
type post. 
L’url correspondant à l’appel de cette méthode est précisé dans le paramètre 
action de la balise <form:form> du formulaire. 
 
 
 

4 
 
Un clic sur le bouton Send devra avoir pour effet d’appeler la méthode post de la 
classe WelcomeController : 
 
 
 
 
 
 
 
 
 
Ce controller doit créer un objet de la classe MagicKeyForm et être implémenté 
de sorte que la valeur introduite par l’utilisateur soit placée dans la variable 
magicKey de cet objet.  
Pour ce faire, prévoyez l’instruction de création et d’ajout de cet objet de type 
MagicKeyForm au dictionnaire Model dans la méthode get (méthode qui a pour 
effet d’afficher la page contenant le formulaire vierge), dont la clé sera la même 
que la valeur de l’attribut modelAttribute de la balise <form:form> : 
 
 
Récupérez ensuite cet objet du Model comme argument de la méthode post : 
 
 
 
 
 
La variable magicKey de l’objet form sera remplie avec la valeur introduite par 
l’utilisateur à condition que, dans la balise <form:form> de la page jsp, les 
bonnes valeurs aient été placées dans les attributs action (path pour appeler la 
méthode post du controller) et modelAttribute (lien vers l’objet modèle).  
 
 
 
WelcomeController 
{ 
 get 
{     
 } 
 
post 
{  
} 
} 
 
 
 
 
 
 
 
5 
 
De même, il faut que les champs du formulaire soient reliés aux variables 
d’instance de l’objet modèle via l’attribut path (pour le Data Binding). 
 
 
 
 
Dans notre exercice, la méthode post doit ensuite vérifier que la valeur introduite 
par l’utilisateur (qui se trouve donc dans la variable magicKey de l’objet form) 
est une valeur correcte. Si oui, une nouvelle page userInscription.jsp doit être 
affichée. Cette page contient pour l’instant seulement un message de bienvenue. 
Si non, une page d’erreur (keyError.jsp) doit être affichée prévenant l’utilisateur 
qu’il a entré une mauvaise clé.  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Créez ces deux nouvelles pages userInscription.jsp et keyError.jsp. 
La page userInscription.jsp affiche pour l’instant : "Welcome on inscription 
page !" et la page keyError.jsp affiche le message : "Sorry, bad magic key 
code !". 
Idéalement, la valeur introduite par l’utilisateur devrait être comparée à des 
valeurs stockées dans une base de données (cf. exercice ultérieur). Pour 
l’instant, la valeur introduite est juste comparée à une liste de valeurs hardcodée 
dans le controller. 
Faites un clean+install de l’application puis déployez-la. 
WelcomeController 
{ 
 get 
{     
 } 
 
post 
{ si code correct 
 sinon 
} 
 
 
Welcome on inscription page ! 
Sorry, bad magic key code ! 
 
Nom de la variable d’instance 
dans la classe modèle 
6 
 
Build (clean + install) de l’application  
 
Déploiement de l’application sur le serveur Tomcat 
      
 
Dans la suite de l’exercice, la page userInscripton va contenir un formulaire qui 
permettra de saisir les coordonnées de l’enfant (étapes 4 et 5). Par conséquent, 
un nouveau controller va gérer la page userInscription, soit la classe 
InscriptionController (étape 6).  
 
Attention, la méthode post de WelcomeController ne devra plus 
retourner directement la page userInscription, mais faire appel à la 
méthode get de InscriptionController (étape 7). 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
WelcomeController 
{ 
 get 
{     
 } 
post 
{  
 si code correct 
 sinon 
} 
 
 
Sorry, bad magic key code ! 
 
InscriptionController 
{ 
 get 
{     
 } 
post 
{  } 
} 
 
 
7 
 
Etape 4 – Classe modèle User 
Un formulaire de création d’un utilisateur va être affiché. Il faut donc créer la 
classe modèle User qui va récupérer par Data Binding dans ses variables 
d’instance les valeurs introduites dans les champs du formulaire 
Dans le package model, créez la classe User qui contient les variables d’instance 
privées suivantes : 
name : de type String 
age : de type Integer 
male : de type Boolean 
hobby : de type String 
Prévoyez les getters/setters publiques ainsi qu’au moins le constructeur sans 
argument. 
Etape 5– Page userInscription 
Adaptez la page userInscription.jsp. 
Celle-ci doit contenir le formulaire suivant : 
 
 
 
 
 
 
 
 
 
Pour les boutons radio, utilisez la balise <form:radiobutton> avec les attributs 
path (cf. Data Binding : lien avec la variable d’instance correspondante), value 
("true" ou "false") et label ("Boy" ou "Girl"). 
 
 
Pour la liste, utilisez la balise <form:select> avec l’attribut path (cf Data Binding) 
et <form:option> avec les attributs value (valeur réelle qui sera récupérée 
dans la variable d’instance de l’objet modèle) et label (valeur affichée dans 
la page). Placez-y au moins les hobbies suivants : Sport, Nature, Reading et 
Music. 
 
 
 
 

8 
 
Etape 6 – Classe InscriptionController 
Une nouvelle classe de type Controller va se charger d’afficher la page contenant 
ce formulaire de création d’un nouvel utilisateur, soit la page userInscription.jsp.  
La classe InscriptionController contient donc une méthode get qui sera appelée 
pour afficher la page contenant le formulaire vierge et une méthode post qui sera 
appelée lors du clic sur le bouton send. 
Créez la classe InscriptionController dans le package controller.  
Dans la méthode get, créez un objet de la classe User, placez-le dans le 
dictionnaire Model et retournez la page userInscription.jsp. 
Implémentez la méthode post de sorte que les valeurs introduites par l’utilisateur 
dans les champs du formulaire soient placées dans les variables d’instance de 
l’objet modèle de type User (quand clic sur le bouton send). Créez et retournez 
une page gift.jsp qui ne contient pour l’instant qu’un message de félicitations. 
N.B. Faire le point 7 avant de tester ! 
Etape 7 - Redirection 
Redirection vers une méthode get d’un controller 
Parfois, une méthode post ne doit pas se contenter de retourner directement une 
page Web. En effet, dans certains cas, une "préparation" de la page doit avoir 
lieu avant de l’afficher. C’est le cas notamment si la page contient un 
formulaire ; il faut créer un objet de type modèle au préalable et passer cet objet 
modèle via le dictionnaire pour que la page Web y ait accès. 
Le type de retour de la méthode post est alors une redirection vers une 
méthode get d’un autre controller qui a pour effet de préparer la page Web et de 
l’afficher. 
Dans notre application, la page userInscription.jsp contient désormais un 
formulaire qui attend un objet modèle.  
Il faut donc que la méthode get du controller correspondant soit appelée 
avant chaque affichage de la page userInscription pour que l’objet modèle 
soit créé ! 
Il faut donc modifier la méthode post de WelcomeController !!! La méthode 
post ne retourne plus directement une page jsp (return 
"integrated:userInscription") mais doit appeler le controller de cette page. 
L’instruction à écrire est donc une redirection vers un controller. 
 
9 
 
Si le path pour appeler InscriptionController est "/inscription", 
 
 
 
alors, le retour de la méthode post de WelcomeController doit 
être "redirect:/inscription" et non plus "integrated:userInscription". 
 
 
 
 
Faites un clean+install de l’application puis déployez-la.  
 
Testez que les valeurs introduites par l’utilisateur dans les champs du formulaire 
sont bien placées dans les variables d’instance de l’objet modèle de type User 
après que l’utilisateur a cliqué sur le bouton send. Par exemple, en affichant à la 
console (juste le temps du test, bien sûr !) les valeurs des variables d’instance 
de l’objet modèle de type User (placez cette instruction d’affichage à la console 
dans la méthode post de InscriptionController juste avant de faire la redirection). 
Etape 8 – Service HoobiesService  
La liste des hobbies peut être remplie avec des valeurs fournies par un service 
(ultérieurement provenant d’une base de données). 
Créez la classe Hobby dans le package model. 
Cette classe contient les deux variables d’instance privées de type String : id et 
name. 
Créez le package service dans com.spring.henallux.firstSpringProject. 
Créez-y la classe HobbiesService qui contient une variable d’instance privée de 
type ArrayList<Hobby>. Prévoyez le getter et le setter publiques pour cette 
variable d’instance ainsi qu’au moins le constructeur sans argument. Garnissez 
cette liste dans le constructeur sans argument de HobbiesServices (ajoutez au 
moins 4 hobbies). 
 
 
 
 
 
… 
10 
 
 
 
 
 
 
 
 
Inversion de contrôle et injection de dépendances 
Pour rappel, le framework Spring supporte l’inversion de contrôle (le 
programmeur ne crée plus les objets) par injection de dépendance (création 
automatique par Spring d’objets appelés beans). Les classes annotées @Service 
permettent l’inversion de contrôle ; Spring créera un objet d’une telle classe 
automatiquement dès que nécessaire. 
La classe HobbiesService doit être annotée @Service. Ceci permettra d’y avoir 
accès dans d’autres classes par injection de dépendance. 
 
 
 
 
Etape 9 – Accès à HoobiesService par injection 
Récupération de la référence vers un bean créé par Spring 
En programmation, il est possible de récupérer la référence d’un bean qui aurait 
été créé par inversion de contrôle par Spring.  
L’annotation @Autowired permet de récupérer les références vers de tels 
beans.  
Si l’annotation est placée devant un constructeur, les arguments du constructeur 
peuvent être récupérés par injection. 
 
 

11 
 
Dans InscriptionController, déclarez une variable d’instance de type 
HobbiesService et récupérez par injection de dépendance la référence vers l’objet 
de cette classe créé automatiquement par Spring (via @Autowired sur le 
constructeur - cf cours). 
Ajoutez la liste des hobbies fournie par ce service comme attribut dans le 
dictionnaire model, afin de pouvoir avoir accès à la liste des hobbies dans la page 
userInscription.jsp. 
 
 
 
 
 
 
 
 
 
 
 
 
Afin d’afficher les hobbies fournis par le service HobbiesService, supprimez les 
balises <form:option> du formulaire et remplassez-les par : 
 
 
L’attribut itemValue précise la valeur réelle qui sera récupérée dans la 
variable d’instance de l’objet modèle. 
Faites un clean + install puis redéployez l’application et testez-la. 
 
 
 
 
 
 
 
 
12 
 
Etape 10 – Validation du formulaire 
Les champs du formulaire peuvent être validés automatiquement. 
Validations à imposer au formulaire de la page userInscription : 
Entre 4 et 15 caractères pour le nom 
Age obligatoire et compris entre 1 et 12 ans 
 
Ajoutez une dépendance dans le pom.xml : 
 
 
 
 
Faites un clean + install. 
Annotez les variables d’instance de la classe modèle User que vous souhaitez 
valider. Utilisez @Size (avec les attributs min et max) pour les chaînes de 
caractères, @NotNull, @Min et @Max (avec l’attribut value) pour les nombres… 
(cf. Module 6 – Controller  Form Validation). Importez le package 
correspondant à ces annotations (javax.validation.constraints). 
 
Dans la méthode post de InscriptionController, annoter l’attribut modèle de type 
User avec @Valid.  
 
 
 
 
 
 
 
 
Déclarez un argument de type BindingResult dans la méthode post. Testez ce 
dernier. S’il n’y a pas d’erreur, la page gift.jsp est affichée. Cette page contient 
pour l’instant seulement un message de félicitation.  S’il y a des erreurs, 
réaffichez la page userInscription, en prenant soin de replacer la liste des 
hobbies dans le dictionnaire model avant de réafficher la page. 
 
 
 
 
13 
 
Faites-en sorte que le message d’erreur éventuel relatif au nom soit affiché à 
côté du champ nom (via utilisation de <form:errors> cf. Module 6 – Controller  
Form Validation – Jsp Page). 
Faites de même pour le message d’erreur éventuel relatif à l’âge. 
 
 
 
 
 
 
 


==================================================
FILE: Labos/Labo Spring 4 - Attribut de session.pdf
==================================================

1 
 
 
Développement avancé d’application Web 
Informatique de gestion – Bloc 3 
Haute-École de Namur-Liège-Luxembourg 
 
Labo Spring 4 
- Attribut de session - 
Objectif 
• Définir et utiliser des attributs liés à la session de l’utilisateur ainsi 
qu’un service 
Dans la suite de l’exercice, en fonction de l’âge et du hobby de l’enfant, un 
cadeau va lui être attribué. Le cadeau attribué sera affiché dans la page gift.jsp.  
Le calcul du cadeau va se faire dans la méthode get du controller associé à cette 
page, soit la classe GiftController. La méthode post de InscriptionController devra 
faire une redirection vers GiftController. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
InscriptionController 
{ 
 get 
{     
 } 
post 
{  } 
} 
GiftController 
{ 
 get 
{     
 } 
post 
{  } 
} 
Congratulations John, you will receive a DVD about sport ! 
2 
 
Etape 1 – L’objet de type User placé en session 
Portée des données placées dans le dictionnaire Model 
Les données placées dans le dictionnaire Model n’ont qu’une durée de vie limitée, 
juste le temps de la requête (Request Scope), c’est-à-dire jusqu’à ce que la 
réponse à la requête (la page) soit envoyée au client. 
Pour que la classe GiftController puisse calculer le cadeau de l’enfant, il faut 
pouvoir récupérer les informations encodées par l’enfant et récupérées dans 
l’objet de type User via la méthode post de InscriptionController (cet objet a été 
annoté @ModelAttribute). Or, cet objet n’existe que le temps de la requête 
(jusqu’à l’affichage de la page) ; il n’est donc pas accessible dans un autre 
controller. 
Pour que cet objet persiste durant toute la session de l’utilisateur, il faut le 
déclarer attribut de session dès sa création dans InscriptionController.  
Attribut en session 
Certaines données doivent être accessibles par toutes les pages d’une même 
session d’utilisateur. On déclare ces données comme attributs placés en session ; 
l’état de ces données est persisté le temps de la session de l’utilisateur (Session 
Scope), c’est-à-dire entre les différentes requêtes de la session. Les attributs 
placés en session sont donc accessibles par toutes les pages. 
Un attribut est déclaré en session via les annotations @SessionAttributes et 
@ModelAttribute. 
Spring créera un nouvel objet par session d’utilisateur (inversion de contrôle) et 
gérera ces objets placés en session. 
Pour que les données de l’enfant stockées dans l’objet User soient accessibles 
par toutes les pages d’une même session d’utilisateur, cet objet User va être 
placé en session ; il sera accessible durant toute la session de l’utilisateur.  
Le nom de l’attribut à placer en session va intervenir à plusieurs endroits dans le 
code. Le mieux est de déclarer une constante pour ce nom (prévoir par exemple 
une classe reprenant toutes les constantes publiques). 
 
 
 
  
3 
 
Il faut créer et initialiser l’attribut à placer en session. Ceci va se faire via une 
méthode dans le controller (peu importe le nom de la méthode) dont le type de 
retour correspond au type de l’attribut et le corps de la méthode comprend les 
instructions d’initialisation de l’attribut. Cette méthode est annotée 
@ModelAttribute : utilisez la constante comme valeur de l’annotation (cette 
valeur correspondra au nom de l’attribut ainsi créé et initialisé par la méthode). 
Pour préciser qu’un attribut est de type session, annotez @SessionAttributes la 
classe controller en utilisant de nouveau la constante comme valeur de 
l’annotation. 
 
 
 
 
 
 
 
 
 
Restez cohérent en utilisant toujours le même nom pour cet attribut (via appel à 
la constante), y compris dans sa déclaration comme argument de la méthode 
post. 
 
 
 
 
Dans la page userInscription.jsp, veillez à utiliser comme valeur du paramètre 
modelAttribute du formulaire la même valeur que celle stockée dans la 
constante. 
 
 
 
Etape 2 – Service GiftService 
Le cadeau à attribuer à l’enfant doit être calculé par une classe de type service 
sur base de l’âge de l’enfant et de son hobby.  
 
 
  
 
4 
 
Dans le package service, créez la classe GiftService qui contient une méthode 
publique chooseGift qui reçoit en argument un hobby (String) et un âge (int) et 
qui retourne le cadeau (String). Cette méthode attribue un cadeau à l’enfant sur 
base des règles suivantes (données à titre d’exemple) : 
Avant 5 ans : un puzzle concernant son hobby 
Entre 5 et 10 ans : un DVD concernant son hobby 
Après 10 ans : un livre concernant son hobby 
Cette classe doit être annotée @Service. Ceci permettra d’y avoir accès par 
injection de dépendance.  
 
 
 
 
Etape 3 – Classe GiftController 
Créez la classe GiftController dans le package controller.  
Récupérez dans cette classe la référence vers l’utilisateur courant placé dans la 
session, et ce, en utilisant les annotations @SessionAttribute sur la classe 
controller et @ModelAttribute sur l’argument de la méthode get. 
 
 
 
 
 
 
 
Dans la classe GiftController, récupérez par injection de dépendance une 
référence vers un objet de la classe GiftService. Pour l’utilisation d’un service par 
injection, référez-vous aux étapes 8 et 9 du labo 3. 
Dans la méthode get, appelez sur cet objet de type GiftService la méthode 
chooseGift en lui passant l’âge et le hobby de l’enfant. Ajoutez le cadeau ainsi 
calculé comme attribut dans le Model, afin de pouvoir l’afficher dans la page 
gift.jsp. 
Faites l’étape 4 avant de tester votre application ! 
 
 
 

5 
 
Etape 4 – Classe InscriptionController 
N’oubliez pas de modifier la méthode post de InscriptionController afin de 
rediriger vers la méthode get du controller GiftController. 
 


==================================================
FILE: Labos/Labo Spring 5 - Internationalisation.pdf
==================================================

1 
 
  
Développement avancé d’application Web 
Informatique de gestion – Bloc 3 
Haute-École de Namur-Liège-Luxembourg 
 
Labo Spring 5 
- Internationalisation - 
Objectifs 
• Traduire les libellés statiques et les messages d’erreur en plusieurs 
langues 
• Afficher les libellés statiques et messages d’erreur dans la langue de la 
locale 
• Permettre à l’utilisateur de choisir sa langue et afficher les libellés 
statiques et messages d’erreur dans la langue choisie par l’utilisateur 
Étape 1 : Création des fichiers de traduction des libellés statiques 
Fichier de libellés statiques par langue (de type property) 
Un fichier de type dictionnaire est créé pour chaque langue ; la clé de chaque 
entrée du dictionnaire est identique pour toutes les langues et la valeur varie 
d’une langue à l’autre.  
Le nom de chaque fichier est composé d’une même racine suivie de "_" suivi du 
code de la langue (2 lettres).  
Spring se charge de récupérer la valeur de chaque libellé statique sur base de sa 
clé et de la locale courante. 
Créez un répertoire translations dans le répertoire resources situé dans src/main. 
Créez ensuite dans ce répertoire translations un Resource Bundle intitulé 
"general" qui contiendra les différents fichiers de traduction pour les libellés 
statiques de l’application Web :  
Clic droit sur translations  new   Resource bundle  base name : general 
 Locales to add +  Input locale code to add : en ajouter au moins deux (en et 
fr) 

2 
 
 
 
 
 
 
 
 
Remplissez les fichiers de traduction en anglais et en français : clic droit sur un 
fichier de propriétés (ex : general_en.properties)  basculez de l’onglet Text 
vers l’onglet Resource Bundle et remplissez les fichiers de traduction en 
choisissant une clé et en donnant les valeurs dans chaque langue correspondant 
à cette clé. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Contenu d’un fichier de traduction (onglet Text) : 
 
 
 
 
 
 
 
 
 
Valeur en anglais 
clé 
Valeur en français 
 

3 
 
Étape 2 : Mise à jour de la classe MainConfiguration 
Ajoutez deux déclarations de beans dans la classe MainConfiguration.  Ceux-ci se 
chargeront de la traduction des libellés statiques de l’application en fonction de la 
locale et de la localisation des fichiers de traduction. 
Vous pouvez vous inspirer du fichier mis à votre disposition sur Moodle. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Répertoire des fichiers de traduction 
Traduction des messages d’erreur 
Racine des noms de fichiers 
4 
 
Étape 3 : Adaptation des pages Web 
Dans les pages jsp, adaptez le code afin que les fichiers de traduction soit pris en 
compte. Chaque libellé statique doit être remplacé par l’appel à la balise 
<spring :message …> en utilisant le paramètre code pour préciser la clé des 
fichiers de traduction. Par exemple, dans la page welcome.jsp, l’ancien label 
"Magic Key" doit désormais être traduit dans la langue de la locale : 
 
 
 
Faites-en sorte également que le libellé du bouton Send soit traduit dans la 
langue de la locale. 
 
Testez votre application. En fonction de la locale par défaut de votre ordinateur, 
le fichier de traduction correspondant sera utilisé. 
 
Si vous avez des problèmes d’accents ou de caractères spéciaux qui ne 
s’affichent pas correctement, vérifiez les deux points suivants : 
1. Dans la page template ainsi que dans la page welcome.jsp, vous devez avoir 
placé l’instruction qui précise que vous travaillez en UTF-8 : 
 
 
 
2. Les fichiers de traduction doivent être encodés en UTF-8. Pour vérifier ou 
modifier le type d’encodage d’un fichier texte, ouvrez ce fichier via Notepad++ et 
via l’option de menu "Encodage", choisissez le type UTF-8. Sauvez le fichier. 
Arrêtez votre application et redéployez-la. Si nécessaire, fermez le navigateur et 
retestez. 
 
 
 
 
 
 
 
 
 

5 
 
Étape 4 : Affichage des boutons proposant les langues 
Choix de la langue par l’utilisateur 
Le principe consiste à permettre à l’utilisateur de choisir sa langue sur le site 
Web. Un bouton par langue sera affiché. Un clic sur un de ces boutons doit avoir 
pour effet de changer la langue (locale) ; un paramètre sera ajouté à l’URL de la 
requête pour prévenir le serveur de la demande de changement de langue. Côté 
serveur, ce paramètre dans l’URL doit être intercepté. Cette nouvelle langue 
(locale) courante ainsi interceptée sera stockée sous forme d’un cookie de type 
session. C’est la valeur de la locale stockée dans le cookie que Spring utilisera 
pour déterminer les fichiers de traduction à choisir aussi bien pour les libellés 
statiques que pour les messages d’erreur. 
Deux drapeaux vont être ajoutés au template, un représentant la langue anglaise 
et l’autre la langue française.  
Un clic sur le drapeau anglais aura pour effet d’ajouter "?locale=en" à l’URL de la 
requête :  
  
 
 
 
Un clic sur le drapeau français aura pour effet d’ajouter "?locale=fr" à l’URL de la 
requête. 
 
 
 
 
Pour ce faire, dans la partie <head> de la page template.jsp, déclarez deux 
variables de type URL appelées localeEn et localeFr en utilisant la balise 
<spring :url> ; chacune de ces url contiendra l’URL courant (value=""). Ajoutez 
à chacune de ces URL le paramètre intitulé locale ainsi que sa valeur, via la 
balise <spring :param>. 
 
 
 
 
 
 
 
 
 
 

6 
 
Ajoutez les deux fichiers images correspondant aux drapeaux dans le répertoire 
images. 
 
 
 
 
Ajoutez les deux liens vers ces images dans le template en veillant à utiliser dans 
<a href=… /> les URL spring définies ci-dessus. 
 
 
 
Étape 5 : Mise à jour de la classe MainConfiguration 
Mettez à jour la classe MainConfiguration.   
Ecrivez le code permettant d’intercepter le paramètre appelé locale dans l’URL 
des requêtes. 
Déclarez ensuite un bean qui se chargera de stocker la locale ainsi détectée dans 
un cookie de type session. La locale courante sera celle ainsi stockée dans ce 
cookie. 
Vous pouvez vous inspirer du fichier mis à votre disposition sur Moodle. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Locale par défaut 
De type session 
Nom du 
paramètre à 
intercepter 
dans l’URL 
 
7 
 
Testez votre application. 
Étape 6 : Traduction des messages d’erreur 
Messages d’erreur en différentes langues 
Les messages d’erreur gérés par Spring peuvent aussi être personnalisés et 
affichés en différentes langues. Un fichier de type dictionnaire est créé pour 
chaque langue.  
La clé de l’erreur peut être constituée sur base des annotations utilisées dans les 
classes de type modèle pour la validation des formulaires.  
Un message d’erreur peut être général, par exemple un même message d’erreur 
peut être prévu pour la violation du caractère obligatoire de toute variable de 
type String ; la clé de l’erreur dans le fichier de traduction est alors 
NotNull.java.lang.String. 
Un message d’erreur peut être plus spécifique et porter sur un champ particulier 
de formulaire, par exemple en cas de violation de la valeur minimale acceptée 
pour le champ code postal (variable d’instance zipCode de la classe modèle 
correspondante) dans le formulaire userForm, la clé de l’erreur est 
Min.userForm.zipCode. 
 
Créez dans le répertoire translations un Resource Bundle intitulé "errors" qui 
contiendra les différents fichiers de traduction des messages d’erreur de 
l’application Web (au moins en anglais et en français). 
 
 
 
 
 
 
 
Personnalisez les messages d’erreur en anglais et en français liées à la validation 
du formulaire de création de l’utilisateur, en vous basant sur les annotations 
utilisées dans la classe User de la couche modèle. 
Testez votre application en tentant de violer les contraintes liées au formulaire de 
création d’un nouvel utilisateur. 
 
 



==================================================
FILE: Labos/Labo Spring 6 - Hibernate.pdf
==================================================

1 
 
 
Développement avancé d’application Web 
Bloc 3 
Haute-École de Namur-Liège-Luxembourg 
 
Labo Spring 6 
- Hibernate - 
Objectif 
• Accéder à une base de données MySQL en utilisant Hibernate  
Dans la suite de l’exercice, le code magique va être recherché dans la base de 
données (accès en lecture) et l’enfant qui aura introduit ses coordonnées via le 
formulaire d’inscription sera enregistré dans la BD (accès en écriture).  
NB. Attention, ne testez votre application qu’à l’étape 9. 
Etape 1 – Installer MySQL Server 
Pour rappel, ne pas installer Workbench seul car il ne contient pas le serveur 
MySQL ! 
Attention, vous aurez besoin dans cet exercice du nom d’utilisateur associé à 
votre base de données ("root" ou autre) et du mot de passe associé. 
Etape 2 – Créer un schéma MySQL 
Assurez-vous que le serveur MySQL tourne : 
Task Manager  Services  
Créez un schéma MySQL appelé childdb. 
 
 
 
 
 
 
2 
 
Pour éviter tout problème de type "timezone", effectuez les deux actions 
suivantes (à réexécuter chaque fois que le serveur MySQL redémarre) : 
 Sélectionnez la base de données  clic droit  Set as Default Schema  
 Puis exécutez les instructions suivantes : 
set @@global.time_zone  = '+00:00' ; 
set @@session.time_zone = '+00:00' ; 
 
Etape 3 – Configurer Spring Boot pour accéder à la base de 
données 
Hibernate 
Hibernate est un framework ORM (Object Relational Mapping) open source qui 
comble le fossé entre l’orienté objet et les bases de données relationnelles en 
convertissant les données d’une base de données relationnelle en objets 
manipulables en programmation orientée-objet, et inversement. 
Il propose de remplacer les accès directs aux bases de données relationnelles 
(SQL) par des fonctions de haut-niveau manipulant des objets, et ce, via un 
"mapping" entre des tables et des classes. 
Hibernate fournit, outre des instructions d’accès en écriture et en lecture 
prédéfinies, un système aisé d’écriture de requêtes personnalisées. 
Déclarez une spring datasource dans application.yml. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
Mot de passe 
Nom d’utilisateur 
Nom du schéma de la BD 
3 
 
Ajoutez deux dépendances dans le pom.xml. 
 
 
 
 
 
 
 
 
Etape 4 – Créer les tables 
Créez la table magickey. N’y prévoyez qu’une seule colonne appelée magicvalue.  
Cette colonne est identifiante. 
N.B. Charset/Collation : utf8 - Default Collation et Engine : InnoDB 
 
 
 
 
 
 
Insérez au moins 5 lignes dans cette table. 
 
Créez la table user. Prévoyez les colonnes suivantes : 
• name (identifiant) 
• age 
• male (ex : type BIT pour booléen – valeurs true ou false) 
• hobby 
 
 
 
 
 
 
 
 
4 
 
Rappel : Charset/Collation : utf8 -  Default Collation et Engine : InnoDB 
 
 
 
 
 
 
 
 
 
 
Etape 5 – Créer les packages de gestion de la persistance des 
données 
Créez dans le package com.spring.henallux.firstSpringProject 4 nouveaux 
packages : dataAccess.entity, dataAccess.repository, dataAccess.util et 
dataAccess.dao. Ce qui donnera l’architecture suivante : 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
5 
 
Etape 6 – Créer la classe de type entité MagicKeyEntity 
Entity Class 
Les classes de type entité sont des composants qui représentent les données 
persistées dans une base de données. Chaque classe entité est le miroir d’une 
table de la base de données ; chaque colonne de la table correspond à une 
variable d’instance de la classe entité.  
Grâce à un framework ORM comme Hibernate, le programmeur peut manipuler 
des objets de ces classes plutôt que d’accéder directement à la base de données. 
Une classe de type entité est un Plain Old Java Object (POJO) annoté @Entity, 
avec (au moins) un constructeur sans argument et des variables d’instance 
déclarées privées (+ getters/setters publiques). A noter que si des objets de ces 
classes doivent être transférés d’une machine distante à une autre (via le 
réseau), la classe doit être en outre déclarée sérialisable (implements 
Serializable). 
L’annotation @Table sur la classe de type entité permet de préciser le nom de la 
table de la base de données dont la classe est le miroir. 
Chaque variable d’instance correspondant à une colonne doit être annotée 
@Column (en précisant le nom de la colonne dans la table).  
La variable d’instance correspondant à l’identifiant est annotée @Id. 
Créez la classe MagicKeyEntity dans le package entity. 
Cette classe doit être le miroir de la table magickey : utilisez les annotations 
@Entity et @Table pour lier cette classe à la table magickey (cf. Module 12 – 
Entity Bean). 
Définissez-y une variable d’instance correspondant à la colonne identifiante 
magicvalue de la table (utilisez pour ce faire les annotations @Id et @Column).  
N’oubliez pas les getters/setters et au moins un constructeur sans argument 
 
 
 
 
 
 
 
6 
 
Etape 7 – Créer l’interface MagicKeyRepository 
Data Repository 
Une interface (Repository) est fournie pour chaque classe de type entité. Cette 
interface contient des méthodes CRUD (Create - Read - Update - Delete) d’accès 
classiques en écriture et en lecture sur la table correspondant à cette classe 
entité. 
Pour utiliser ces instructions prédéfinies, le programmeur doit créer une sous-
interface à partir de l’interface JpaRepository en veillant à définir correctement 
les types que sont la classe entité d’une part et le type de l’identifiant d’autre 
part. Cette sous-interface doit être annotée @Repository. Attention, aucune 
implémentation de l’interface de type @Repository ne doit être fournie 
par le programmeur ; c’est le framework Hibernate qui s’en charge. 
Quelques méthodes prédéfinies dans l’interface JpaRepository<T,ID> (et donc 
disponibles dans toutes ses sous-interfaces) : 
<S extends T> S save(S entity) 
void delete(T entity) 
T findOne(ID primaryKey)  
List<T> findAll() 
Long count() 
boolean exists(ID primaryKey) 
Créez l’interface MagicKeyRepository dans le package repository. Cette interface 
offrira les méthodes CRUD de base pour lire et écrire dans la table magickey. 
Cette interface hérite de l’interface générique JpaRepository. Soyez attentif à 
bien définir les paramètres de l’interface que vous créez : donnez le nom de 
l’entity class correspondante et préciser le bon type d’identifiant. 
Utilisez l’annotation @Repository. 
 
 
 
 
 
 
Pour rappel, vous devez définir l’interface mais pas donner d’implémentation. 
C’est Hibernate qui s’en charge ! 
 

7 
 
Etape 8 – Créer la classe MagicKeyDAO 
Design Pattern DAO 
Le Design Pattern DAO tel que vu au bloc 2 doit être implémenté. 
L’objectif est de séparer l’accès au système de persistance de données des 
autres couches, de sorte que si le système de persistance des données change 
(par exemple, des fichiers xml au lieu d’une base de données relationnelle), les 
couches supérieures ne soient pas impactées. 
Le package dao va contenir les interfaces DAO ainsi que les classes qui 
implémentent ces interface DAO. Ce sont les méthodes implémentées dans le 
package dao qui pourront être appelées par les couches supérieures (par 
exemple, des contrôleurs ou des services). Les méthodes du package dao vont 
faire appel aux méthodes déclarées dans les interfaces de type repository. 
Les couches supérieures manipulent des objets de type modèle (package model) 
et ne peuvent en aucun cas manipuler des objets de classes entités. Les classes 
entités sont des miroirs de tables et font donc partie de la couche Data Access. 
Aucun objet de type entité ne peut être remonté aux couches supérieures. Les 
méthodes du package dao reçoivent donc des arguments de type modèle 
(classes de la couche model) et retournent des objets de type modèle. 
Implémentez le Design Pattern DAO dans votre projet.  
Créez dans le package dao une interface MagicKeyDataAccess. Cette interface 
doit proposer toutes les méthodes que vous voulez exposer aux couches 
supérieures. Ces méthodes ne peuvent donc ni recevoir en argument ni retourner 
des objets de type MagicKeyEntity, car liées au type de persistance des données 
choisi, en l’occurrence ici une base de données relationnelle.  
Créez ensuite dans le package dao la classe MagicKeyDAO qui implémente cette 
interface.  
Utilisez l’annotation @Service sur la classe. 
 
 
 
 
 
 
 
 
8 
 
Transaction 
Une transaction est un ensemble d’opérations considérées comme formant une 
unité logique : ou bien l’entièreté des opérations est exécutée (commit) ou bien 
aucune opération ne l’est (rollback). 
L’objectif des transactions est de garder la base de données dans un état 
cohérent en cas de panne ou d’échec au milieu d’une transaction. 
Si une méthode contenant plusieurs instructions d’accès à une base de données 
doit être considérée comme constituant une transaction, elle est annotée 
@transactional. Cela signifie qu’en cas d’erreur dans la transaction, toutes les 
opérations d’accès à la base de données prévues dans la méthode seront 
annulées. 
N.B. Si l’on souhaite qu’une méthode soit considérée comme une transaction, il 
faut utiliser l’annotation @Transactional sur la méthode. Si chaque méthode de la 
classe DAO doit être considérée comme une transaction, il suffit de placer 
l’annotation Transactional sur la classe DAO. Pour que Hibernate applique le 
mécanisme des transactions, il faut ajouter l’annotation 
@EnableTransactionManagement sur la classe Application 
 
 
 
 
 
 
 
 
 
Dans votre projet, prévoyez dans l’interface MagicKeyDataAccess la méthode 
getMagicKeys() qui doit retourner la liste des clés (ArrayList<String>) contenues 
dans la table magickey. 
Implémentez cette méthode dans MagicKeyDAO. Cette méthode devra appeler la 
méthode findAll() disponible dans le repository. Récupérez une référence vers le 
repository correspondant par injection de dépendance (@Autowired). 
Voici un début de code (en supposant que toutes les méthodes doivent être 
considérées comme des transactions), à vous de le compléter. 
 
 

9 
 
 
 
 
 
 
 
 
 
 
 
 
 
Etape 9 – Adapter la classe WelcomeController 
Adaptez la méthode POST de WelcomeController : faites-en sorte que le code 
magique introduit par l’utilisateur soit maintenant comparé aux codes (clés) de la 
base de données retournés par la méthode getMagicKeys() de la classe 
MagicKeyDAO. 
Pour ce faire, récupérez une référence vers une instance de MagicKeyDAO par 
injection de dépendance (utilisez l’annotation @Autowired).  
Attention, appliquez le Design Pattern DAO : déclarez dans le controlleur une 
variable d’instance de type interface MagicKeyDataAccess et non de type 
MagicKeyDAO ! 
Pour rappel, la méthode contains existe dans la classe ArrayList. 
 
Testez votre application. 
 
En cas de problème : 
Si vous avez un message d’erreur signalant qu’il est impossible de créer un objet 
de type Repository, c’est peut-être que Hibernate n’arrive pas à se connecter à la 
BD. Vérifiez : 
- Il y a peut-être un problème de timezone  exécutez dans MySQL les 
instructions suivantes (à réexécuter chaque fois que le serveur MySQL 
redémarre) : 
set @@global.time_zone  = '+00:00' ; 
set @@session.time_zone = '+00:00' ; 
 

10 
 
- Vérifiez la déclaration de la datasource dans application.yml (attention, 
sensible aux indentations  2 ou 4 blancs en début de ligne). 
Etape 10 – Enregistrer l’utilisateur dans la base de données 
Basez-vous sur les étapes précédentes pour enregistrer l’utilisateur dans la base 
de données dès qu’il a rempli le formulaire d’inscription. 
Pour ce faire, créez la classe UserEntity, l’interface UserRepository, l’interface 
UserDataAccess et la classe UserDAO, en les plaçant dans les bons packages. 
Pour rappel, les méthodes de UserDataAccess (et donc de UserDAO) ne peuvent 
ni recevoir en argument ni retourner des objets de type Entity classes, car liées 
au type de persistance des données choisi, en l’occurrence ici une base de 
données relationnelle. Il faut donc recevoir et retourner des objets de type 
modèle, donc des objets de type User et non pas de type UserEntity. 
Par conséquent, comme vous devrez transformer un objet de type User en un 
objet de type UserEntity et inversement, prévoyez la classe ProviderConverter 
dans le package util qui proposera les méthodes qui s’en chargeront, à savoir : 
public UserEntity userModelToUserEntity(User user) 
public User userEntityToUserModel(UserEntity userEntity) 
Annotez la classe ProviderConverter @Component et implémentez ses méthodes. 
Vous pouvez aussi utiliser l’outil Bean Mapper Dozer afin de faciliter l’écriture 
des ces méthodes de conversion. 
Outil de mapping Dozer 
L’écriture du code de la classe ProviderConverter est fastidieuse. En effet, il faut 
recopier ligne par ligne chaque variable d’instance. 
L’outil Dozer peut se charger de la conversion automatique des variables de 
même nom dans deux classes. Il suffit d’appeler la méthode map sur un objet de 
type DozeBeanMapper, en passant comme paramètre un objet d’une classe et en 
second paramètre la classe de destination ; la méthode map retourne un nouvel 
objet de la classe de destination dans lequel les variables d’instance sont 
remplies à partir de l’objet fourni en entrée. 
Pour utiliser Dozer, ajoutez une dépendance dans le pom.xml : 
 
 
 
  

11 
 
Structure du package dataAccess : 
 
 
 
 
 
 
 
 
 
 
Prévoyez dans UserDAO une méthode qui permet d’enregistrer un objet de type 
User dans la base de données : public User save(User user) 
Adaptez la méthode POST de InscriptionController : appelez la méthode save de 
UserDAO pour enregistrer dans la base de données l’utilisateur correspondant au 
formulaire. 
Etape 11 – Créer des requêtes personnalisées 
Vous pouvez ajouter des requêtes personnalisées dans un repository. 
Requêtes personnalisées 
Hibernate permet l’ajout de requêtes supplémentaires en plus de celles déjà 
prédéfinies dans l’interface repository.  
Deux façons de procéder existent : Customized Query ou Named Query. 
Customized Query 
Des requêtes additionnelles peuvent être générées sur base du nom de 
méthode ; ce nom doit alors être construit par le programmeur en combinant des 
mots clés et des noms de variables d’instance de la classe entité. Le 
programmeur déclare ces méthodes dans l’intreface repository. Aucune 
implémentation ne doit être écrite par le programmeur ; c’est à la charge du 
framework. 
Exemple : 
public List<BookEntity> findByNbPagesAndTitleOrderByIsbn (Integer pages, 
String title) ; 
 
 

12 
 
Named Query 
S’il n’est pas possible de générer la requête souhaitée sur base uniquement du 
nom de la méthode construit en combinant les mots clés disponibles, il est 
toujours possible pour le programmeur de donner le code de la requête. La 
méthode est alors annotée @Query et la syntaxe est alors proche du SQL. 
 
Référez-vous au module 13 – Query pour la liste des mots clés disponibles afin 
de créer et de tester des requêtes personnalisées de type Customized Query. 
Pour rappel, vous ne devez pas donner de code à ces méthodes mais bien 
construire leur nom en combinant des mots clés. 
Ajoutez deux "Customized Queries" dans UserRepository en créant le nom des 
méthodes en combinant les mots clés adéquats afin de : 
- Lister les enfants (List<UserEntity>) qui ont un âge compris entre deux valeurs 
données et qui aiment un hobby donné (l’âge minimum (de type Integer), l’âge 
maximum (de type Integer) et le hobby (de type String) sont donnés en 
arguments) ; 
- Lister les enfants (List<UserEntity>) qui ont choisi un des hobbies donnés (la 
liste des hobbies est donnée en argument sous forme d’une ArrayList<String>), 
le tout trié par ordre alphabétique sur le prénom de ces enfants. 
Adaptez l’interface UserDataAccess en y ajoutant les deux méthodes 
suivantes (les noms de méthode proposés ici ne sont pas significatifs, vous 
pouvez les modifier) : 
- ArrayList<User> getChildByAgeAndHobby(Integer ageMin, Integer ageMax, 
String hobby) ; 
- ArrayList<User> getChildByHobbies(ArrayList<String> hobbies). 
Implémentez ces méthodes dans la classe UserDAO en appelant les méthodes 
adéquates du repository. 
Afin de tester ces méthodes, générez la méthode toString dans la classe modèle 
User. 
 
Couche Vue en programmation Web <> affichage à la console 
L’affichage à la console n’a pas de sens en programmation Web : la 
communication avec l’utilisateur se fait via des pages Web. Pour éviter le 
couplage de couches, les entrées sorties devraient être gérées exclusivement via 
les pages Web (couche Vue).  
L’affichage à la console devrait être évitée. On y fait une entorse juste le temps 
de tester nos "Customized Queries". 
13 
 
Pour simplifier l’écriture de code et juste le temps de tester ces 
méthodes, appelez-les dans la méthode post du InscriptionController :  
- affichez à la console la description (toString) des enfants entre 2 et 10 ans qui 
aiment la musique ; 
- affichez à la console la description (toString) des enfants qui ont comme hobby 
soit la nature soit le sport, le tout trié par ordre alphabétique sur le nom. 
 
 


==================================================
FILE: Labos/Labo Spring 7 - Spring Security.pdf
==================================================

Développement avancé d’application Web
Développement d’application – B3
Haute-École de Namur-Liège-Luxembourg
Labo 7 – Spring Security
1) Ajout des dépendances
Dans le fichier pom.xml, ajoutez les dépendances suivantes :
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-security</artifactId>
</dependency>
<dependency>
    <groupId>org.springframework.security</groupId>
    <artifactId>spring-security-taglibs</artifactId>
</dependency>
2) Tables en DB
Créez des tables pour représenter les utilisateurs et leurs droits. Les droits seront soit un rôle soit 
une permission individuelle. Ces tables doivent contenir au minimum :
Users
id (int, pk)
username (string, unique)
password (string, suffisamment long pour contenir le hash ! 60 pour BCrypt)
enabled (boolean)
Authorities
id (int, pk)
authority (string)
username (string, fk)
Remarques :
- Le username sert ici d’identifiant unique à l’utilisateur
- Chaque paire authority-username devrait être unique (on ne veut pas avoir de doublons des droits)
- La convention de nommage des droits est la suivante :
les rôles : ROLE_XXX, pour chaque classe générale de droits (admin, user, tester, …)
par ex ROLE_ADMIN pour un administrateur
les permissions : <OBJECT>_<ACTION>, pour chaque action sur chaque objet
par ex INVOICE_SEND pour la permission d’envoyer une facture
3) Classes d’entité : UserEntity et AuthorityEntity
Créez les classes entity associées aux tables de la DB. Configurez bien la relation entre les deux 
tables. Le FecthType des droits devrait être EAGER, car ils seront nécessaires lors de 
l’authentification.
4) Classes de modèle : User et Authority
Créez les classes User (implémente UserDetails) et Authority (implémente GrantedAuthority), qui 
reflètent les classes entity.
5) Converters
Créez les classes de conversion entre entity et model.
Attention : prenez en compte que l’entity à convertir pourrait être null !
6) Repository
Créez les interfaces repository. Le UserRepository devra au moins déclarer une méthode qui renvoie 
un UserEntity en fonction de son username.
7) SQLDAO et DataAccess
Créez les interfaces DataAccess et les classes DAO qui les implémentent. Une méthode qui renvoie 
un User en fonction de son username devra être prévue.
8) UserDetailsService
Spring Security utilise un service pour récupérer les utilisateurs et leurs informations. Créez une 
classe @Service qui implémente UserDetailsService.
La méthode loadUserByUsername devra lever une exception si aucun utilisateur ne correspond au 
nom fourni en paramètre.
9) Configuration
Récupérez la classe SecurityConfiguration sur Moodle et importez la dans votre projet.
10) CSRF
Identifiez les protections utilisées contre le CSRF présentes dans la classe de configuration.
11) Authentication & access control
Identifiez les règles définissant les politiques d’authentification et de contrôle d’accès dans la classe 
de configuration.
12) SSL/TLS
Configurez le fichier application.yml pour activer le protocole TLS. V ous devrez pour ce faire 
générer une paire de clé et un certificat avec l’outil keytool.
13) Application
V ous allez maintenant créer une petite application mettant en œuvre les principes d’authentification 
et de contrôle d’accès. Elle sera composée des points d’entrée suivants :
- /welcome
Une simple page d’accueil contenant des liens vers les autres parties de l’application. Elle doit être 
accessible par tout le monde. Elle devra aussi contenir une image et définir un CSS.
- /register
Un formulaire de création de compte, où l’on peut définir un nom d’utilisateur et un mot de passe. 
Si le username est disponible, un nouvel utilisateur sera créé dans la DB. Prévoyez les méthodes 
nécessaires à cette création dans la couche data et dans votre UserDetailsService. N’oubliez pas de 
hasher le mot de passe à l’aide du PasswordEncoder !
- /login
Un formulaire d’authentification username/mot de passe. Si l’utilisateur est déjà authentifié, il sera 
redirigé vers /authenticated. Créez votre propre page de login, avec un formulaire qui recevra une 
instance de UserDetails (votre classe User) comme attribut de modèle,
- /authenticated
Une page accessible uniquement par un utilisateur authentifié, qui possède donc une session active. 
La page affichera le username de l’utilisateur.
- /admin
Une page accessible uniquement par un utilisateur possédant le rôle ROLE_ADMIN. V ous devrez 
ajouter ce rôle à la main directement dans la base de données.
- /logout
Une requête vers ce chemin provoque la fin de l’authentification. Si correctement configuré dans la 
SecurityFilterChain, Spring Security gérera seul ce processus, vous n’avez pas besoin de vue ou de 
contrôleur. Vérifiez cependant que cette fonctionnalité fonctionne correctement.
13) XSS
Identifiez les protections utilisées contre le XSS présentes dans la classe de configuration.
Le nom d’utilisateur étant un vecteur d’attaque XSS, il est impératif de le protéger d’une éventuelle 
injection.
Dans votre contrôleur d’inscription, faites un nettoyage du champ username à l’aide d’une librairie 
sanitizer. Refusez la création de l’utilisateur si le résultat du nettoyage diffère de l’input original 
(tentative d’injection!).
Dans votre vue /authenticated, échappez la valeur du username lors de l’affichage.


==================================================
FILE: Théorie/Module 1 - Application Architecture.pdf
==================================================

Architecture of applications F. Dubisy & B. Bodart
Module 1
Application Architecture
Application Architecture F . Dubisy & B. Bodart
Table of Contents
Part 1 : Application Architecture
• 3-Tier Architecture
• Model – View – Controller (MVC)
• Example of Multilayered Application
• Benefit of Layered Applications
• Validation and Security
2
Application Architecture F . Dubisy & B. Bodart
Table of Contents
Part 2 : Spring Application Architecture
• Servlet
• MVC in Java Server Pages Technology
• MVC in Spring Technology
• Structure of a Spring Project
3
Application Architecture F. Dubisy & B. Bodart
PART 1
APPLICATION
ARCHITECTURE
Application Architecture F. Dubisy & B. Bodart
From the physical point of view
o If the application follow the web client-server model
3-Tier Architecture 
Business
Data 
User Interface
Presentation layer
Client-side (e.g, web pages)
Information processing (business rules)
Server-side
Data storage
On a database server
5
Application Architecture F. Dubisy & B. Bodart
To separate logic from presentation
o Decoupling of data access and data presentation
Model – View – Controller (MVC)
6
Application Architecture F. Dubisy & B. Bodart
 Model
o Manages the information : the data on which the application 
operates
o Consists of application data and business rules
o Provides the persistent storage of data
o Notifies the users when the information changes
Model – View – Controller (MVC)
7
Application Architecture F. Dubisy & B. Bodart
View
o Takes input from user
o Displays the data
• The view renders the model data into a form to display to the user
• It is a representation of model data
→ There can be several views associated with the same model !
Model – View – Controller (MVC)
8
Application Architecture F. Dubisy & B. Bodart
Controller
o Passes information between view and model
o Handles all requests coming from the view (user interface)
• Forwards the request to the appropriate handler
o Is responsible for accessing model and rendering it into various 
UIs
o Can send commands 
• To the view : to change the view's presentation of the model 
• To the model : to update the model's state
Model – View – Controller (MVC)
9
Application Architecture F. Dubisy & B. Bodart
Desktop application of library management
o Add a new book
o  List of all books
Example of Multilayered Application
10
Book Managment
      File           Book
           New book
           Book list
Form to create a new book
JTable of all books
Application Architecture F. Dubisy & B. Bodart
Structure of packages
Example of Multilayered Application
11
Application Architecture F. Dubisy & B. Bodart
Structure of classes
Example of Multilayered Application
12
Application Architecture F. Dubisy & B. Bodart
Example of Multilayered Application
New Book Sequence Diagram
13
Application Architecture F. Dubisy & B. Bodart
Book List Sequence Diagram
Example of Multilayered Application
14
Application Architecture F. Dubisy & B. Bodart
•Reuse of layers
o Model
o Business
o Data Access
•One layer can be easily replaced by another one
•Obfuscation
o Each layer is a black box
Benefit of Layered Applications
15
Application Architecture F. Dubisy & B. Bodart
Goal : Loose coupling of layers <> tight coupling
o i.e, when the implementation of a layer is replaced by another one
then there is less code to update in the other layers
E.g, 
o Modification of the view 
• Swing components → Web pages
o Modification of the data storage
• Relational databases → XML files
Benefit of Layered Applications
16
Application Architecture F. Dubisy & B. Bodart
Example
Modification of the data storage
o Relational data bases → XML files
Use of Interface with declarations of data access methods
When another implementation is used for the data access layer,
     it has to implement this interface
o i.e, it has to use classes that implement those methods 
No code to change in other layers
Benefit of Layered Applications
17
Application Architecture F. Dubisy & B. Bodart
Benefit of Layered Applications
<<interface>>   BookDataAccess
 getAllBooks( );
 addBook (book);
 BookDBAccess
  getAllBooks( ) {…}
  addBook (book) {…}
 BookXML
  getAllBooks( ) {…}
  addBook (book) {…}
18
Application Architecture F. Dubisy & B. Bodart
Benefit of Layered Applications
<<interface>>   
BookDataAccess
 getAllBooks( );
 addBook (book);
 BookDBAccess
  getAllBooks( ) {…}
  addBook (book) {…}
   = delegation
Has-a link
In the constructor, 
creation of an object 
of a class which implements
BookDataAccess
BookManager  ( )
{ setDao (new BookDBAccess( ));}
getAllBooks( )
 { return  dao.getAllBooks( ); }
addBook  (Book book)
 {    dao.addBook (book);   }
19
Application Architecture F. Dubisy & B. Bodart
So, if the data storage is changed (Relational data bases → XML files)
    only one line of code needs to be changed : 
the initialization of dao in the constructor of BookManager
DAO : Data Access Object
Benefit of Layered Applications
20
Application Architecture F. Dubisy & B. Bodart
Avoid Tight Coupling -  Example 1
    Do not use static methods in method calls between layers
Static methods = tight coupling
o In case of modification of the implementation of the layer, all method 
calls have to be updated in the code of other layers
E.g, (Relational data bases → XML files)
BookDBAccess.getAllBooks( );
BookDBAccess.addBook (book);
BookDBAccess.         … 
Must become
BookXML.getAllBooks( );
BookXML.addBook (book);
BookXML.         …
Benefit of Layered Applications
21
Application Architecture F. Dubisy & B. Bodart
Avoid Tight Coupling  - Example 2
    Do not propagate SQL exception to upper layers!
Benefit of Layered Applications
Propagation of 
SQLException ?
Data access
SQLException
View
Transformation of
 SQLException 
into another Exception
type !
22
Application Architecture F. Dubisy & B. Bodart
Avoid Tight Coupling  - Example 2
SQL propagation to upper layers = tight coupling
o In case of modification of the data storage, SQLException 
have to be changed wherever it is used in the upper layers
• E.g,  SQLException → XMLException
Benefit of Layered Applications
23
Application Architecture F. Dubisy & B. Bodart
PART 2
SPRING APPLICATION 
ARCHITECTURE
Application Architecture F. Dubisy & B. Bodart
   Client
Server
HTTP request
Html + Applet code
Applet
Before (not used anymore) 
Java Applet (means “small application”)
o Java bytecode inside an HTML page
o Executed by the JVM on the client side
25
Application Architecture F. Dubisy & B. Bodart
   Client Server
HTTP request
Html
HTTP request
Html
HTTP request
Html
servletservlet    servlet
What is a Servlet ?
Now : Servlet
o Java code executed on the server side
o Handles request and returns html page
26
Application Architecture F. Dubisy & B. Bodart
In MVC
   servlet = controller !
What is a Servlet ?
27
Application Architecture F. Dubisy & B. Bodart
Model ->   Java Beans
View ->   JSP pages
Controller  ->   Servlets
MVC in Java Server Pages Technology
28
Application Architecture F. Dubisy & B. Bodart
Model ->   Java Beans
View ->   JSP pages
Controller  ->   Controller classes
MVC in Spring Technology
29
Application Architecture F. Dubisy & B. Bodart
Structure of a Spring Project
Java classes
View 
30
Application Architecture F. Dubisy & B. Bodart
Structure of a Spring Project
Web Pages 
Controller 
Business (rules and processes)
Model 
Data access 
31


==================================================
FILE: Théorie/Module 10 - Data Persistence.pdf
==================================================

Data Persistence Introduction F. Dubisy & B. Bodart
Module 10
Data Persistence
Data Persistence F. Dubisy & B. Bodart
Table of Content
• Relational Database
• Data Persistence
• Object Relational Mapping
• Persistence Framework
• Java Persistence API
• Hibernate
• PostgreSQL
2
Data Persistence F. Dubisy & B. Bodart
Values such as integers and strings organized within tables 
A table is a relation
o I.e, each value in a row is related to other values in the same 
row
Relational Database
3
Data Persistence F. Dubisy & B. Bodart
Persistence is the act of automatically storing data contained in Java 
objects into a relational database
Data Persistence
4
Data Persistence F. Dubisy & B. Bodart
Object Relational Mapping (ORM) 
o For converting data from relational databases 
     to object-oriented programming languages
o To bridge the gap between an object-oriented model 
     and a relational database 
Object Relational Mapping
5
Data Persistence F. Dubisy & B. Bodart
Framework for Object Relational Mapping (ORM) 
Persistence Framework
6
Data Persistence F. Dubisy & B. Bodart
The Java Persistence API (JPA) is a Java standards-based solution 
for persistence
JPA is an object-relational mapping (ORM) technology 
o Transparent to the developer
By creating Java classes (Entity Beans) that mirror the data model 
→ Access these entities rather than directly accessing the DB
Java Persistence API
7
Data Persistence F. Dubisy & B. Bodart
Open source Java persistence framework 
ORM framework
Is an implementation of the Java Persistence API (JPA) specification
o  Can be used in any environment supporting JPA 
• Including Java SE applications, Java EE application servers…
Hibernate
8
Data Persistence F. Dubisy & B. Bodart
For mapping an object-oriented domain model to a relational database
o By replacing direct persistence-related database accesses 
     with high-level object handling function
o By mapping 
• From Java classes to database tables 
• From Java data types to SQL data types
Provides 
o Data queries 
• Generate SQL calls 
o Retrieval facilities
• No more manual result set handling and object conversion
Hibernate
9
Data Persistence F. Dubisy & B. Bodart
To connect to PostgreSQL with Spring Boot
o Add dependencies in pom.xml
 
  <dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
  </dependency>
  
  <dependency>
    <groupId>org.postgresql</groupId>
    <artifactId>postgresql</artifactId>
  </dependency>
PostgreSQL
10
Data Persistence F. Dubisy & B. Bodart
Configure Spring Boot to access PostgreSQL 
database
In application.yml
o Configure a spring datasource
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/<dbname>
    username: <dbuser>
    password: <dbpass>
PostgreSQL
11


==================================================
FILE: Théorie/Module 11 - Entity Bean.pdf
==================================================

Entity Bean F. Dubisy & B. Bodart
Module 11
Entity Bean
Entity Bean F. Dubisy & B. Bodart
Table of Contents
• Entity Bean
• Entity Bean Annotations
• Entity Bean States
• Data Repository
• Entity Class <> Model Class
• Bean Converter
• DAO Interface
• DAO Class
• DAO Injection in Controller
2
Entity Bean F. Dubisy & B. Bodart
Server-side component representing persistent data maintained in 
a database
The link between the application and the database
Entity beans mirror the data model 
o Each entity bean (or entity class) is the mirror of one table
o Data is accessed through these entities rather than directly 
querying the DB
Entity Bean
3
Entity Bean F. Dubisy & B. Bodart
Entity Bean
Data access  
Business rules and processes
Model classes
Structure of the application including data access
4
Entity Bean F. Dubisy & B. Bodart
Create entity package in dataAccess package
Entity Bean
Entity beans  
5

Entity Bean F. Dubisy & B. Bodart
SQL Book table
CREATE TABLE books (
isbn varchar NOT NULL,
pages integer,
title varchar,
edition date,
CONSTRAINT books_pk PRIMARY KEY (isbn)
);
Entity Bean
6
Entity Bean F. Dubisy & B. Bodart
A Entity Bean (or Entity class) is a POJO with 
o @Entity annotation
o No-argument default constructor 
• But may have other constructors
o Private persistent properties 
Accessed through public getters and setters
o Neither the class nor its methods nor its persistent instance 
variables are declared final
o Serializable
Entity Bean
7
Entity Bean F. Dubisy & B. Bodart
Annotation on Entity class
o @Entity
o @Table : table in the database corresponding to the entity class
If no @Table 
o The table name will be the class name
Entity Bean Annotations
8
Entity Bean F. Dubisy & B. Bodart
Annotation on instance variable (property)
o @Id : identifier (PK) 
o @Column : column of the table corresponding to the 
property
Entity Bean Annotations
9
Entity Bean F. Dubisy & B. Bodart
Entity Bean Annotations
10
@Entity
@T able(name="books")
public class BookEntity {
    @Id
    @Column
    private String isbn;
    @Column
    private String title;
    @Column
    private Integer pages;
    @Column
    private Date edition;
}
Entity Bean F. Dubisy & B. Bodart
Entity Bean States
Entity instances are managed by invoking operations on them
Entity instances are always in one of four states
o New (transient)
o Persistent (Managed)
o Detached
o Removed
11
Entity Bean F. Dubisy & B. Bodart
Entity Bean States
12
Persistent/
Managed
update(entity)
Detached
delete(entity )
Removed
Entity Bean F. Dubisy & B. Bodart
Entity Bean States
New (transient)
o New entity instances created (after call to the new operator)
o New entity instance not mapped to any database table row
Managed (persistent)
o After call of the save method
o Entity instance associated with database table row
Detached 
o Entity instances manipulated by the client
o Entity instances not currently mapped to any database table row
Removed 
o After call of the delete method
o Entity instance mapped to a database table row and scheduled for 
removal from the data store
13
Entity Bean F. Dubisy & B. Bodart
Spring Data repository abstraction
o To significantly reduce the amount of boilerplate code required to 
implement data access layers for various persistence stores 
Interface created for each entity class containing access methods
o CRUD
o To create, read, update and delete entities in the database
 Data Repository 
14
Entity Bean F. Dubisy & B. Bodart
Create repository package in dataAccess package
 Data Repository 
Repository interfaces  
15

Entity Bean F. Dubisy & B. Bodart
Create an interface extending JpaRepository<T,ID>
o org.springframework.data.jpa.repository.JpaRepository
Arguments
o T : The entity class to manage
o ID :The entity class ID type (PK type)
@Repository annotation
 Data Repository 
16
Entity Bean F. Dubisy & B. Bodart
E.g,
N.B. No implementation to write for the repository interface!
 Data Repository 
17

Entity Bean F. Dubisy & B. Bodart
Interface extending JpaRepository<T,ID>
Some available methods (no need to implement!)
o <S extends T> S save(S entity)
o void delete(T entity)
o T findOne(ID primaryKey) 
o List<T> findAll()
o Long count()
o boolean exists(ID primaryKey)
 Data Repository 
18
Entity Bean F. Dubisy & B. Bodart
In order to be reused in other applications and contexts, model 
classes should not be dependant of persistence choice
o E.g, in another application, data could be persisted in xml files
     instead of relational databases
Neither @Table nor @Column annotations on Model classes
Model class  ≠  Entity class
Entity Class <> Model Class
19
Entity Bean F. Dubisy & B. Bodart
Entity Class <> Model Class
20
…
Entity class
Model class
Entity Bean F. Dubisy & B. Bodart
Model classes  ≠  Entity classes
Will use Converter classes in dataAccess.util package
o To convert model objects to entity objects
o To convert entity objects to model objects
o Use @Component annotation
Bean Converter
21

Entity Bean F. Dubisy & B. Bodart
Bean Converter
22
@Component
public class BookConverter {
    public BookEntity bookModelT oEntity(Book model) {
        BookEntity entity = new BookEntity();
        entity.setIsbn(model.getIsbn());
        entity.setTitle(model.getTitle());
        entity.setPages(model.getPages());
        entity.setEdition(model.getEdition());
        return entity;
    }
    public Book bookEntityT oModel(BookEntity entity) {
        Book model = new Book();
        model.setIsbn(entity.getIsbn());
        model.setTitle(entity.getTitle());
        model.setPages(entity.getPages());
        model.setEdition(entity.getEdition());
        return model;
    }
}
Entity Bean F. Dubisy & B. Bodart
Or use a bean mapper
o Automatic conversion for variables of same name in the two classes
E.g, dozer.Mapper
o Add a dependency
Bean Converter
23

Entity Bean F. Dubisy & B. Bodart
import org.dozer.DozerBeanMapper;
import org.dozer.Mapper;
...
private final Mapper mapper = new DozerBeanMapper();
public BookEntity mT oE(Book model) {
    return mapper.map(model, BookEntity.class);
}
public Book eT oM(BookEntity entity) {
    return mapper.map(entity, Book.class);
}
Bean Converter
24
Entity Bean F. Dubisy & B. Bodart
DAO Design Pattern
In dataAccess.dao package 
DAO interface containing all the methods from DAO classes
+ declaration of DAO instance in controller (interface type !)
DAO Interface
DAO interfaces and classes
25
Entity Bean F. Dubisy & B. Bodart
DAO classes contain methods to persist Model classes
o Call of corresponding repository
• With bean injection using @Autowired
DAO Class
26
Entity Bean F. Dubisy & B. Bodart
DAO Class
27
@Service
public class BookDAO implements BookDataAccess {
    private BookRepository repository;
    private BookConverter converter;
    @Autowired
    public BookDAO(BookRepository repository, BookConverter converter) {
        this.repository = repository;
        this.converter = converter;
    }
    @Override
    public Book save(Book book) {
        BookEntity entity = converter.mT oE(book);
        entity = repository.save(entity);
        return converter.eT oM(entity);
    }
    @Override
    public List<Book> getAllBooks() {
        List<BookEntity> entities = repository.findAll();
        List<Book> books = new ArrayList<>();
        for(BookEntity entity : entities)
            books.add(converter.eT oM(entity));
        return books;
    }
}
Entity Bean F. Dubisy & B. Bodart
Call of DAO methods in controller
o Declaration of DataAccess type in controller 
o Through bean injection in controller constructor
• Use @Autowired
@Controller
public class BookController {
    private BookDataAccess dao;
    @Autowired
    public BookController(BookDataAccess dao) {
        this.dao = dao;
    }
DAO Injection in Controller
28


==================================================
FILE: Théorie/Module 12 - Queries.pdf
==================================================

Query F. Dubisy & B. Bodart
Module 12
Queries
Queries F. Dubisy & B. Bodart
Table of Contents
• Query
• Built-in Query 
• Customized Query
• Named Query
2
Queries F. Dubisy & B. Bodart
• Access the database for Read operation
• Several ways to create a query
o Built-in query from Repository
o Customized query created in the repository
o Named Query
Query
3
Queries F. Dubisy & B. Bodart
Built-in Query
• Available queries from JpaRepository
• No need to implement!
• See Entity Bean Module
• E.g,
o T findOne(ID primaryKey) 
o List<T> findAll()
o Long count()
o boolean exists(ID primaryKey)
4
Queries F. Dubisy & B. Bodart
Customized Query
http://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html
• Additional queries can be generated in repository interface
o By combining logical keywords and attribute names
5
Queries F. Dubisy & B. Bodart
Customized Query
http://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html
• Continue
6
Queries F. Dubisy & B. Bodart
Customized Query
http://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html
• E.g,
7
Queries F. Dubisy & B. Bodart
Customized Query
http://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html
• E.g (continue),
8
Queries F. Dubisy & B. Bodart
Customized Query
http://docs.spring.io/spring-data/jpa/docs/1.4.1.RELEASE/reference/html/jpa.repositories.html
• E.g (continue),
9
Queries F. Dubisy & B. Bodart
Customized Query
• Examples of customized queries 
10
Queries F. Dubisy & B. Bodart
Customized Query
• Examples of call to customized queries
o E.g, in BookDAO
11
Queries F. Dubisy & B. Bodart
Named Query
• Declare named queries in repository
• Use annotation
o @Query
12
Queries F. Dubisy & B. Bodart
Named Query
• Syntax for named query
o select entityObject
o from  EntityClass  entityObject
o where
• Conditions on properties of the entityObject
• Parameter through ? 
13
Queries F. Dubisy & B. Bodart
Named Query
14
• E.g,
o Define query in the repository

Queries F. Dubisy & B. Bodart
Named Query
• E.g,
o Use query in DAO implementation
15


==================================================
FILE: Théorie/Module 13 - Transactions.pdf
==================================================

Transaction F. Dubisy & B. Bodart
Module 13
Transactions
Transactions F. Dubisy & B. Bodart
Table of Contents
• Transaction Definition
• Transaction Management
• Transactional DAO method
2
Transactions F. Dubisy & B. Bodart
Transaction Definition
• A sequence of operations performed as a single logical 
unit of work
o Commit
o Rollback 
• Keep a database consistent even in case of system 
failure
o Allows recovery
3
Transactions F. Dubisy & B. Bodart
Transaction Management
4
• Add @EnableTransactionManagement to the 
Application class

Transactions F. Dubisy & B. Bodart
Transactional DAO method
5
• Add @Transactional to methods of the DAO class

Transactions F. Dubisy & B. Bodart
Transactional DAO method
6
• If @Transactional is placed on the DAO class
o All the methods of the DAO class are transactional


==================================================
FILE: Théorie/Module 14 - Database Relationships.pdf
==================================================

Database Relationship F. Dubisy & B. Bodart
Module 14
Database Relationships
Database Relationships F. Dubisy & B. Bodart
Table of Contents
• One to Many Relation in Database
• One to Many Relation in Hibernate
• Fetch Type : Lazy >< Eager
2
Database Relationships F. Dubisy & B. Bodart
In relational databases, one to many relations are implemented through 
foreign keys
o Where 
• ID1 and ID2 are Identifiers
• ForeignKey is the foreign key column referencing the Identifier of the 
related table
o Means that 
• Each row of the Table1 is linked to 0 or 1 row of the Table2
• Each row of the Table2 is linked to 0, 1 or many rows of the Table1
One to Many Relation in Database
 Table1
ID1
…
ForeignKey
 Table2
ID2
…
3
Database Relationships F. Dubisy & B. Bodart
E.g,
o MANY book objects TO ONE editor object
• i.e, 
o A book has at most one editor
o From a book object, a single editor object can be retrieved
o ONE editor object TO MANY book objects
• i.e,
o An editor can edit several books
o From an editor object, a collection of book objects can be retrieved
 One to Many Relation in Database
editor
id
name
book
isbn
nbpages
title
fkeditor
4
Database Relationships F. Dubisy & B. Bodart
One to Many Relation in Database
Create editors table
5
CREATE TABLE editors (
id integer NOT NULL,
name varchar NOT NULL,
constraint editors_pk primary key (id)
)
Database Relationships F. Dubisy & B. Bodart
One to Many Relation in Database
Add foreign key to books table
6
alter table books 
add column editor_id integer;
alter table books 
add constraint editor_id_fk
foreign key (editor_id) references editors(id);
Database Relationships F. Dubisy & B. Bodart
To implement a one to many relation in entity beans
o Use annotations in entity classes 
For the foreign key property (e.g, in BookEntity)
o @ManyToOne
o @JoinColumn 
• name : name of the foreign key in the table
• referencedColumnName : 
  name of the Identifier column in the related table
 One to Many Relation in Hibernate
7
Database Relationships F. Dubisy & B. Bodart
In the related table entity class : possible (not mandatory)  to create 
a collection of objects from the other table 
(e.g, Collection <BookEntity> in EditorEntity)
o @OneToMany
•  mappedBy  : 
           name of the foreign key property in the other entity class
 One to Many Relation in Hibernate
8
Database Relationships F. Dubisy & B. Bodart
  One to Many Relation in Hibernate
In BookEntity class
9
@JoinColumn(name = "editor_id", referencedColumnName = "id")
@ManyT oOne
private EditorEntity editor;
Database Relationships F. Dubisy & B. Bodart
  One to Many Relation in Hibernate
In EditorEntity class : not mandatory
10
@OneT oMany(mappedBy = "editor") // name of property in BookEntity class
private Collection<BookEntity> books;
Database Relationships F. Dubisy & B. Bodart
• @OneToMany  
o fetch = FetchType.LAZY
Loading of associated collections on-demand (as sub-queries)
Fetch when needed  (when collections are first accessed)
o fetch = FetchType.EAGER
Loading of all associated collections when object is created
Fetch in single query (parent and child)
resource intensive => avoid if not necessary!
Fetch Type : Lazy >< Eager
11
Database Relationships F. Dubisy & B. Bodart
• From the JPA 2.0 specs, the defaults are :
o OneToMany : LAZY
o ManyToOne : EAGER
o ManyToMany : LAZY
o OneToOne : EAGER 
Fetch Type : Lazy >< Eager
12
Database Relationships F. Dubisy & B. Bodart
• Default can be changed
@OneT oMany(mappedBy = "editor", fetch = FetchT ype.EAGER)
private Collection<BookEntity> books;
Fetch Type : Lazy >< Eager
13
Database Relationships F. Dubisy & B. Bodart
  Named Query and Relationship
Example of named query using @ManyToOne property
Make sure to respect properties names
 No need of join ! 
14
Database Relationships F. Dubisy & B. Bodart
  Customized Query and Relationship
Example of customized query using @ManyToOne property
Again, make sure method name uses correct properties names
15


==================================================
FILE: Théorie/Module 15 - Online Payment.pdf
==================================================

Online Payment F . Dubisy & B. Bodart
Module 15
Online Payment
Online Payment F. Dubisy & B. Bodart
Table of Contents
• PayPal Developer
• Seller and Buyer Test Accounts
• App Creation
• HTML PayPal Form 
2
Online Payment F. Dubisy & B. Bodart
PayPal Developer
• Test PayPal payments using developer accounts
o developer.paypal.com
• Create a developer PayPal account
→ Log into Dashboard
• Use PayPal Sandbox
o PayPal Sandbox Testing Guide
• https://developer.paypal.com/docs/api/overview/
Online Payment F. Dubisy & B. Bodart
Seller and Buyer Test Accounts
Dashboard → Sandbox → Accounts
• Create seller account
o Account type : business
o Create email (fictious) + password
o Set PayPal balance 
o Credit  card : none
• Create buyer account
o Account type : personal
o Create email (fictious) + password
o Set PayPal balance 
o Credit  card : none
Online Payment F. Dubisy & B. Bodart
App Creation
Dashboard → My Apps & Credentials → REST API apps 
• Set 
o API name
o Seller email
→ Create App
• Sandbox API Credentials
o Sandbox account (seller)
o Client ID
o Secret
Online Payment F. Dubisy & B. Bodart
HTML PayPal Form 
• Create a Post HTML form with hidden fields
o action : https://www.sandbox.paypal.com/cgi-bin/webscr
• Hidden fields
o business : seller sandbox account 
o cert_id : client ID
o cmd : _xclick
o amount
o item_name
Online Payment F. Dubisy & B. Bodart
HTML PayPal Form 
• Other hidden fields
o return : url to return to if PayPal payment is sucessful
o cancel_return : url to return to if PayPal payment is cancelled
o currency_code
o lc : the locale of the checkout login or sign-up PayPal page


==================================================
FILE: Théorie/Module 16 - Unit Tests.pdf
==================================================

Unit Tests F. Dubisy & B. Bodart
Module 16
Unit Tests
Unit Tests F. Dubisy & B. Bodart
Table of Contents
• JUnit
• AAA Pattern
• Pom Dependency
• Calculator Example
• Test Method Annotations
• Assert
• Test Execution
• assertJ
• Mockito
2
Unit Tests F. Dubisy & B. Bodart
JUnit
• Unit Test
• Method testing
o Multiple tests possible for the same method
• JUnit in Java
3
Unit Tests F. Dubisy & B. Bodart
Pom Dependency
4
Unit Tests F. Dubisy & B. Bodart
AAA Pattern
• Respect the AAA Pattern
•  Arrange 
o Setup everything needed for running the tested code 
• Initialization of dependencies, mocks, data needed for the test to run
•  Act 
o Execute the code under test
•  Assert 
o Verify expected values
o Specify the pass criteria for the test
•  Fails it if not met
5
Unit Tests F. Dubisy & B. Bodart
E.g, Calculator class to test
Calculator Example
6
Unit Tests F. Dubisy & B. Bodart
Select the class to test
o E.g, Calculator
 
Show Context Actions
Create new test
Calculator Example
7
Unit Tests F. Dubisy & B. Bodart
@BeforeAll
     public static void setUpBeforeAll() throws Exception { … }
 Run once before any of the test methods in the class
@AfterAll
     public static void tearDownAfterAll() throws Exception { … }
 Run once after all the tests in the class have been run
@BeforeEach
     public void setUp() throws Exception { … }
 Run before each @Test
@AfterEach
    public void tearDown() throws Exception { … }
 Run after each @Test
Test Method Annotations
8
Unit Tests F. Dubisy & B. Bodart
@Test
    public void test…() { … }
Test method
o @Test (expected = ExpectedException.class)
Test method fails if the expected exception is not thrown
o @Test (timeout = 100)
Test method fails if the execution is > 100  millisecondes
@Ignore
    public void test…() { … }
Test method ignored
Test Method Annotations
9
Unit Tests F. Dubisy & B. Bodart
Assert.assertEquals (int  expected,  int  actual)
 
Assert.assertEquals (double  expected,  double  actual,  double delta)
N.B : Two doubles might not be exactly equal !
(floating point precision)
→ use delta to test acceptable values
 
Assert.assertEquals (String  expected, String  actual)
 
Assert
10
Unit Tests F. Dubisy & B. Bodart
Assert.assertSame (Object  expected, Object  actual)
 
Assert.assertNotSame (Object  expected, Object  actual)
 
Assert.assertNull (Object)
 
Assert.assertNotNull (Object)
…
Assert
11
Unit Tests F. Dubisy & B. Bodart
E.g.
Assert

Unit Tests F. Dubisy & B. Bodart
Assert

Unit Tests F. Dubisy & B. Bodart
To execute test
o Select Test class → Debug Test class
Test Execution
14

Unit Tests F. Dubisy & B. Bodart
assertJ
• Library used for writing fluent and rich assertions in Java tests
o Unit test easier to write / read
• E.g, 
o assertThat(…).isEqualTo(…)
• Add dependency
15
Unit Tests F. Dubisy & B. Bodart
Mockito
• To mock components
o E.g, call to Database
• Add dependency
• Add
o @RunWith(MockitoJUnitRunner.class) on test class
o @Mock before component to simulate
• Simulate the call of a method
o when(…) thenReturn(…)
Call of a method on a mock component
Mocked result of the method call
16
Unit Tests F. Dubisy & B. Bodart
@BeforeEach
17
• E.g,
AssertJ
Mockito


==================================================
FILE: Théorie/Module 17  - Security.pdf
==================================================

Security F. Dubisy & B. Bodart
Module 17
Security
Security F. Dubisy & B. Bodart
Table of Contents
 - SSL/TLS
 - Spring Security
 - Authentication
 - Authorization
 - CSRF
 - HTTP security headers
 - XSS
 - Sanitization
 - Escaping
2
Security F. Dubisy & B. Bodart
SSL/TLS
3
Key pair generation :
$ keytool -genkeypair -alias myapp -keyalg RSA -keysize 4096 -validity 3650 \
-dname "CN=localhost" -keypass mypassword -keystore keystore.p12 \
-storeType PKCS12 -storepass mypassword
Security F. Dubisy & B. Bodart
SSL/TLS
4
application.yml
server:
  port: 8443
  ssl:
    enabled: true
    key-store-type: PKCS12
    key-store: keystore.p12
    key-store-password: mypassword
Security F. Dubisy & B. Bodart
Spring Security – Auth*
 Spring Web Security through
o Authentication mechanism
 User account with password
o Access to web pages according to user roles
5
Security F. Dubisy & B. Bodart
E.g,
o home page -> accessible to any user
o login page -> accessible to any user
o any other page -> user must be authenticated
o admin page -> user must have admin rol
Spring Security
6
Security F. Dubisy & B. Bodart
Add dependencies to pom.xml
Spring Security - Configuration
7
Security F. Dubisy & B. Bodart
Spring Security – Tables
 For User Authentication
o Login
o Password (hashed)
 Create user table
o username, password : string (long enough!)
o enabled : boolean
  
8
Security F. Dubisy & B. Bodart
Spring Security – Tables
9
create table users (
id integer primary key,
username varchar not null unique,
password varchar not null,
enabled bool not null
)
create table authorities (
id integer primary key,
username varchar not null,
authority varchar not null,
constraint authorities_fk foreign key (username) references users(username),
constraint authorities_unique unique (username, authority)
)
Security F. Dubisy & B. Bodart
Spring Security – UserEntity
10
@Entity
@Table(name = "users")
public class UserEntity implements Serializable {
    @Id
    @Column
    private Integer id;
    @Column
    private String username;
    @Column
    private String password;
    @Column
    private Boolean enabled;
    @OneToMany(mappedBy = "user", fetch = FetchType.EAGER)
    private Set<AuthorityEntity> authorities;
}
Security F. Dubisy & B. Bodart
Spring Security – AuthorityEntity
11
@Entity
@Table(name="authorities")
public class AuthorityEntity implements Serializable {
    @Id
    @Column
    private Integer id;
    @Column
    private String authority;
    @ManyToOne
    @JoinColumn(name="username", referencedColumnName="username")
    private UserEntity user;
}
Security F. Dubisy & B. Bodart
• Create the corresponding UserRepository
o Define findByUsername method
• E.g,
•  
Spring Security – Repositories
12
Security F. Dubisy & B. Bodart
• Create User Model class that implements UserDetails
Spring Security – User Model
13
public class User implements UserDetails {
    private Integer id;
    private String username;
    private String password;
    private Boolean enabled;
    private Set<Authority> authorities;
    @Override
    public Collection<? extends GrantedAuthority> getAuthorities() {
        return this.authorities;
    }
    @Override
    public String getPassword() {
        return this.password;
    }
    @Override
    public String getUsername() {
        return this.username;
    }
    @Override
    public boolean isAccountNonExpired() {
        return true;
    }
    @Override
    public boolean isAccountNonLocked() {
        return true;
    }
    @Override
    public boolean isCredentialsNonExpired() {
        return true;
    }
    @Override
    public boolean isEnabled() {
        return this.enabled;
    }
Security F. Dubisy & B. Bodart
Create Authority Model class that implements GrantedAuthority
Spring Security – Authority Model
14
public class Authority implements GrantedAuthority {
    private Integer id;
    private String authority;
    private User user;
    @Override
    public String getAuthority() {
        return this.authority;
    }
}
Security F. Dubisy & B. Bodart
• Create UserDataAccess interface
o Containing  a method 
 Parameter : username (String)
 Returning an object of User class
• Create UserDAO which implements UserDataAccess
• Create AuthorityDataAccess and AuthorityDAO if needed
• Create converters if needed
Spring Security –  DataAccess & DAO
15
Security F. Dubisy & B. Bodart
• Spring Web Security will use by injection an object of a service class 
implementing UserDetailsService interface
o Implementing  loadUserByUsername  method
 Returning an object of class implementing UserDetails (User Model class)
•  
Spring Security – UserDetails Service
16
Security F. Dubisy & B. Bodart
Spring Security – CSRF
17
By default, Spring Security protects against CSRF. It can be 
explicitly set in the SecurityConfiguration.
Also the cookie attribute SameSite can be set by 
customizing the server’s HTTP response.
Security F. Dubisy & B. Bodart
• Use SecurityConfiguration class to configure authorizations
o set security options
o associate page access to permissions
o set login/logout pages and handlers
o provides authentication manager and password encoder (hasher)
Spring Security – SecurityConfiguration
18
@Configuration
@EnableWebSecurity
public class SecurityConfiguration {
    private static final String LOGIN_PAGE = "/login";
    private static final String[] AUTHORIZED_ANYBODY = new String[]{"/hello"};
    private static final String[] RESTRICTED_ADMIN = new String[]{"/admin"};
Security F. Dubisy & B. Bodart
Spring Security – SecurityConfiguration
19
@Bean
public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
    http.csrf(Customizer .withDefaults()); // Default CSRF protection
    http
            .authorizeRequests()
            .antMatchers(RESTRICTED_ADMIN).hasRole("ADMIN")
            .antMatchers(AUTHORIZED_ANYBODY).permitAll()
            .anyRequest().authenticated()
            .and()
            .formLogin()
            .successHandler(new SavedRequestAwareAuthenticationSuccessHandler()) // Redirection
            //.loginPage(LOGIN_PAGE) // If you want your own login page
            .permitAll()
            .and()
            .logout()
            .permitAll();
    return http.build();
}
Security F. Dubisy & B. Bodart
Spring Security – SecurityConfiguration
20
@Bean
public AuthenticationManager authenticationManager(UserDetailsService userDetailsService, PasswordEncoder 
passwordEncoder) {
    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();
    authenticationProvider .setUserDetailsService(userDetailsService);
    authenticationProvider .setPasswordEncoder(passwordEncoder);
    return new ProviderManager(authenticationProvider);
}
@Bean
public PasswordEncoder passwordEncoder() {
    return new BCryptPasswordEncoder();
}
@Bean
public WebServerFactoryCustomizer<TomcatServletWebServerFactory> cookieProcessorCustomizer() {
    return factory -> factory.addContextCustomizers(context -> {
        Rfc6265CookieProcessor cookieProcessor = new Rfc6265CookieProcessor();
        cookieProcessor .setSameSiteCookies("Lax"); // Lax / None / Strict
        context.setCookieProcessor(cookieProcessor);
    });
}
Security F. Dubisy & B. Bodart
Spring Security – Login Page
• Login page 
o Use either default login page (no login page to create)
o Or customized login page
• If customized Login Page -> must contain a form with
o Username field
o Password field
21
Security F. Dubisy & B. Bodart
Spring Security – Customized Login Page
• <form:form>
o method 
 Post
o action
 No action attribute
 Url defined in .loginPage() method in SecurityConfiguration will be used
o modelAttribute 
 Object of a class implementing UserDetails
22
Security F. Dubisy & B. Bodart
Spring Security – Customized Login Page
• Controller
o Get method
 Object of a class implementing UserDetails as model attribute
 Returns jsp page
o No post method ! 
23
Security F. Dubisy & B. Bodart
Spring Security – Logout
• Default url : /logout
• No controller to create
24
Security F. Dubisy & B. Bodart
Spring Security – Current User
• To access to current user in java
o Through Authentication class
 Use getPrincipal method
o Either through dependance injection of Authentication
o Or through SecurityContextHolder
25
Security F. Dubisy & B. Bodart
Spring Security – Current User
• To access to current user in jsp page
o Either through request.userPrincipal.principal
o Or through <sec:authentication   property = 
26
Security F. Dubisy & B. Bodart
Spring Security – Update of Current User
• To update data of user managed by Spring Security
o Get the current Authentication object
 E.g,
o Create a new Authentication object with updated user data
 E.g, an object from UsernamePasswordAuthenticationToken class that
    implements Authentication interface
o Set the new Authentication object to the security context
Object from a class implementing UserDetails
27
Security F. Dubisy & B. Bodart
Spring Security –
 Different Page Content according to Auth
• To display different content according to the authentication of the user 
o Import 
o Use <sec:authorize> with access attribute :
 !isAuthenticated() -> if user is not authenticated
 isAuthenticated() -> if user is authenticated 
 hasRole('ADMIN') ->  if user has ADMIN rol
28
Security F. Dubisy & B. Bodart
Spring Security – Security headers
29
Default HTTP security headers are defined in Spring Security 
(depending on the version)
These can be modified using the filter chain :
 http
        .headers()
        .contentSecurityPolicy((contentSecurityPolicyConfig
                -> contentSecurityPolicyConfig
                .policyDirectives("script-src 'self'"))
        );
Security F. Dubisy & B. Bodart
Spring Security – XSS sanitization
30
XSS prevention is not included in Spring Security since it’s an 
injection attack.
To prevent the injection of malicious code (html, css, js, ...), 
one must sanitize user inputs. Here is a library to do so :
<dependency>
    <groupId>com.googlecode.owasp-java-html-sanitizer</groupId>
    <artifactId>owasp-java-html-sanitizer</artifactId>
    <version>20240325.1</version>
</dependency>
PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.LINKS);
String clean = policy.sanitize(userInput);
Security F. Dubisy & B. Bodart
Spring Security – XSS escaping
31
If by any chance injection does occur, it is also necessary to 
escape output of any potentially injected code. 
import org.springframework.web.util.HtmlUtils;
…
String escapedHtml = HtmlUtils.htmlEscape(userInput);
The escaping can also be performed in the JSP view :
<c:out value="${output}" />
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
${fn:escapeXml(name)}
or


==================================================
FILE: Théorie/Module 2 - Frameworks.pdf
==================================================

Frameworks F. Dubisy & B. Bodart
Module 2
Frameworks
Frameworks F. Dubisy & B. Bodart
Table of Contents
• Bootstrap
• Angular
• React (library)
• Spring
• Hibernate
• JUnit
• Mockito
• Maven
2
Frameworks F. Dubisy & B. Bodart
Front-end web framework (from Twitter) 
HTML, CSS, and JS framework 
o Open-source HTML- and CSS-based design templates 
o For designing websites and web applications
For developing responsive, mobile projects on the web
o One framework for every device
o Bootstrap resizes websites with a single code base
• From phones to tablets to desktops 
• With CSS media queries
Bootstrap
3
Frameworks F. Dubisy & B. Bodart
Front-end web application framework
Open-source  
TypeScript-based 
Maintained by Google and community 
o To build complex web applications on client-side
Angular
4
Frameworks F. Dubisy & B. Bodart
Front-end JavaScript library 
Open source
To build user interfaces
Can be used in the development of single-page application
React
5

Frameworks F. Dubisy & B. Bodart
Application framework 
Open source 
Inversion of control container for the Java platform
Spring
6
Frameworks F. Dubisy & B. Bodart
Inversion of control container
o To manage Java object lifecycles
• Creating objects
• Calling initialization methods
• Configuring objects by wiring them together
o Done mainly via dependency injection
The container can be configured by providing the information required 
to create the Java Beans
o Through XML files 
o Through Java annotations in classes
 
Spring – Inversion of Control
7
Frameworks F. Dubisy & B. Bodart
The programmer does no longer create objects
o But describes how they should be created
o In Spring configuration file
The programmer does no longer call services and components
o But tells which services and components must be called
o In Spring configuration file
Benefit
o Code easier to maintain
o Code easier to test
Spring – Dependency Injection
8
Frameworks F. Dubisy & B. Bodart
Persistence is the act of storing data to outlive the program that 
created it
Frameworks called Object Relational Mapping (ORM) are used to 
perform data translation between an object-oriented model and a 
relational database
Persistence Framework
9
Frameworks F. Dubisy & B. Bodart
Object Relational Mapping Framework 
o By replacing direct persistence-related database operations with 
high-level object handling functions
o By mapping 
• From Java classes to database tables 
• From Java data types to SQL data types
Provides 
o Data queries
o Retrieval facilities
• Relieves from manual result set handling and object conversion
Hibernate
10
Frameworks F. Dubisy & B. Bodart
Unit testing framework 
Programmers write unit tests
Tests can be run during build process
JUnit
11
Frameworks F. Dubisy & B. Bodart
Open source testing framework 
Mock object 
Dummy implementation of an interface or a class in which the 
developer defines the output of certain method calls
Allows to simulate data and behavior without having to set up a full 
environment
Mockito
12

Frameworks F. Dubisy & B. Bodart
Software project management and comprehension tool
o Describes how software is built
o Describes its dependencies
Maven can manage 
o Project build
o Reporting
o Documentation 
Maven
13
Frameworks F. Dubisy & B. Bodart
To simplify the build processes 
o Making the build process easy
o Providing a uniform build system
o Providing project information
o Providing guidelines for best practices development
o Allowing transparent migration to new features
Maven
14
Frameworks F. Dubisy & B. Bodart
Maven is based on the concept of a Project Object Model (POM)
pom.xml used to build the project 
o Contains information about the project and configuration details
Maven – pom.xml
15


==================================================
FILE: Théorie/Module 3 - An Introduction to Spring.pdf
==================================================

Introduction to Spring F. Dubisy & B. Bodart
Module 3
An Introduction to Spring
An Introduction to Spring F. Dubisy & B. Bodart
Table of Contents
• Java Bean
• Spring Framework
• Project Structure
• Tomcat Server
• Maven Framework
• Spring Boot
• Yaml Property File 
• Application Class
• Configuration Class
2
An Introduction to Spring F. Dubisy & B. Bodart
Plain Old Java Object (POJO) is an ordinary Java Object
o A POJO class does not have
• extends
• implements
• annotations
JavaBean is a POJO that 
o Has a no-argument constructor
o Allows access to properties using getter and setter methods with 
standard naming (setX, getX/isX)
o Is serializable
JavaBean
3
An Introduction to Spring F. Dubisy & B. Bodart
Open source application framework 
To simplify development of enterprise application
o POJO-oriented development
 
Spring Framework
4
An Introduction to Spring F. Dubisy & B. Bodart
Inversion of control : transfers the control of objects or portions of a 
program to a container or framework
In traditional programming 
o The programmer makes calls to a library
VS
 In IoC :
o The framework takes control of the flow of the program and makes 
calls to the code of the programmer
o If the programmer wants to implement a given behavior, he must 
extend the classes of the framework or provide his own classes
Spring – Inversion of Control (IoC)
5
An Introduction to Spring F. Dubisy & B. Bodart
The programmer does no longer create objects            
o new 
o But describes how they should be created
The programmer does no longer call services and components
o But tells which services and components must be called 
Benefits
o Decoupling of the execution of a task from its implementation
o Easier to switch between different implementations
Spring – Inversion of Control (IoC)
6
An Introduction to Spring F. Dubisy & B. Bodart
Spring provides an Inversion of control container
represented by
org.springframework.context.ApplicationContext interface
o To manage Java objects lifecycle
• Creating objects
• Calling initialization methods
• Configuring objects by wiring them together
o Done mainly via dependency injection
Spring – Inversion of Control (IoC)
7
An Introduction to Spring F. Dubisy & B. Bodart
Dependency Injection
o Objects define their own dependencies
o IoC container inject needed components into objects at creation
o Allows to choose at deployment time which implementation of a
     particular interface to inject
Spring – Dependency Injection (DI)
8
An Introduction to Spring F. Dubisy & B. Bodart
Spring – Dependency Injection (DI)
Object does not need to build (new) or find its needed components (Service 
Locator pattern)
just needs to declare needed interfaces (not even concrete 
implementations)
Object or function receives other objects or functions that it depends on,
thus dependency injection consists only of passing parameters to a method 
(constructor or setter)
9
An Introduction to Spring F. Dubisy & B. Bodart
DI involves four elements
o The service, implementation of a needed component
o The client, object depending on the service
o The interface, used by client to interact with the service
o The injector, responsible for injecting the service into the client
• Also referred to as an assembler, provider, container, factory or spring
Spring – Dependency Injection (DI)
10
An Introduction to Spring F. Dubisy & B. Bodart
Benefit
o Code easier to maintain
o Code easier to test (can use mock implementation)
Spring – Dependency Injection (DI)
11
An Introduction to Spring F. Dubisy & B. Bodart
The IoC container is responsible for 
o instantiating, configuring and assembling objects known as beans
o managing the beans’ lifecycle
Spring – Bean management
12
An Introduction to Spring F. Dubisy & B. Bodart
The IoC container must be configured by providing the information
required to create the beans
o Through Java annotations in classes
o Through XML files 
 
Spring - Bean management
13
An Introduction to Spring F. Dubisy & B. Bodart
Example of bean definition through java annotation :
@Configuration
public class MyAppConfig {
    @Bean
    public SomeBean  someBean ( ) {
        return new SomeBean();
    }
}
IoC container will now be able to instantiate SomeBean-type objects
when DI is required
Spring - Bean management
14
means « Class is a source of Bean definitions »
means « Method creates a bean »
Type of the bean
Name of the bean
An Introduction to Spring F. Dubisy & B. Bodart
Example of special bean definition : @Controller
@Controller
public class HelloWorldController {
    @ResponseBody
    @RequestMapping("/hello")
    public String helloWorld() {        
        return "Hello world!";
    }
}
Spring - Bean management
15
Special bean class (autodetected by IoC container)
Target of HTTP request on this server
The return value will be the whole HTTP response body
An Introduction to Spring F. Dubisy & B. Bodart
Example of bean injection : 
@Service
public class BookService {
     public List<Book> getAllBooks() { … }
}
@Controller
@RequestMapping("/books")
public class BookController {
private BookService bookService;
@Autowired
public BookController(BookService bookService)
 { this.bookService = bookService; }
@GetMapping
public String index() { 
List<Book> books = bookService.getAlBooks();
/* display list in the view */
                                    ...
     }
 }
Spring - Bean management
16
Special bean class (autodetected by IoC container)
IoC container will inject a 
BookService bean
executes if HTTP GET method is received
An Introduction to Spring F. Dubisy & B. Bodart
Example of dependencies defined in XML configuration file : pom.xml
<dependency>
<groupId>javax.servlet</groupId>
<artifactId>jstl</artifactId>
</dependency>
<dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
<version>8.0.17</version>
</dependency>
All these can (and must!) be found in the mvn repository
Spring – Dependencies from XML file
17
An Introduction to Spring F. Dubisy & B. Bodart
Project Structure
Java classes
Web pages 
18
An Introduction to Spring F. Dubisy & B. Bodart
Java HTTP Web server
Servlet and JSP server 
o To deploy servlets and jsp pages
Serving Java EE technologies
Tomcat Server
19
An Introduction to Spring F. Dubisy & B. Bodart
Software project management and comprehension tool
o Describes how software is built
o Describes its dependencies
Maven can manage 
o Project's build
o Reporting
o Documentation 
Maven Framework
20
An Introduction to Spring F. Dubisy & B. Bodart
To simplify the build process 
o Makes the build process easy
o Provides a uniform build system
o Provides project information
o Provides guidelines for best practices development
o Allows transparent migration to new features
Maven Framework
21
An Introduction to Spring F. Dubisy & B. Bodart
Maven is based on the concept of a Project Object Model (POM)
pom.xml is used to build the project 
o Contains information about the project and configuration details
Maven – pom.xml
22
An Introduction to Spring F. Dubisy & B. Bodart
Spring extension to easily create Spring based Application 
o Needs very little Spring configuration
o Autoconfig and conventions (implicit)
Lets the developer focus on the application’s development 
o Removes the need to be concerned with other aspects of 
application lifecycle
Spring Boot
23
An Introduction to Spring F. Dubisy & B. Bodart
Features
o Create stand-alone Spring applications
o Embedded Tomcat Web server
o Provide default POMs to simplify Maven configuration
o Automatically configure Spring whenever possible
o Provide production-ready features 
o No code generation and no requirement for XML configuration
Spring Boot
24
An Introduction to Spring F. Dubisy & B. Bodart
Add a dependency in pom.xml
Spring Boot
25
An Introduction to Spring F. Dubisy & B. Bodart
Use yaml file for external properties
YAML is a superset of JSON 
o Convenient syntax for storing external properties in a 
hierarchical format
o E.g,
Yaml Property File 
Application root path
26
Listening port
An Introduction to Spring F. Dubisy & B. Bodart
In the root package, above all other java classes
Application Class
Run to launch the application
27
An Introduction to Spring F. Dubisy & B. Bodart
@SpringBootApplication Annotation
o Tags the class as a source of bean definitions for the IoC container
o Tells Spring Boot to start adding beans
• Based on classpath settings, other beans, and various property settings
o Tells Spring to look for other components, configurations, services, 
controllers in the package
Application Class
28
An Introduction to Spring F. Dubisy & B. Bodart
Main method
o Uses Spring Boot’s SpringApplication.run method to launch 
the application
Application Class
29
An Introduction to Spring F. Dubisy & B. Bodart
Spring Boot favors Java-based configuration (annotations)
One or more Configuration classes
o Contains bean definitions
Class annotation : @Configuration
o Indicates that the class can be used by the IoC container as a 
source of bean definitions
Configuration Class
30
An Introduction to Spring F. Dubisy & B. Bodart
 Bean definition
o Method Annotation : @Bean
     The method will return an object that should be registered as a
      bean in the application context
Name of the object created 
o @Bean (name = … )
o If no name parameter in the @Bean annotation
  then the name of the created bean is the method name
Configuration Class
31
An Introduction to Spring F. Dubisy & B. Bodart
E.g, MainConfiguration
Configuration Class
32
An Introduction to Spring F. Dubisy & B. Bodart
Configuration Class
Name of the created object bean 
33


==================================================
FILE: Théorie/Module 4 - Web Pages.pdf
==================================================

Web Pages F. Dubisy & B. Bodart
Module 4
Web Pages
Web Pages F. Dubisy & B. Bodart
Table of Contents
• View Design
• Project Structure
• JSP Pages
• Tag Libraries
• Include
• JavaScript
• CSS
• Responsive Applications
2
Web Pages F. Dubisy & B. Bodart
Separating content from presentation (look and formatting)
o CSS
o Template (see module 6 – Templates)
How the view looks
o Should be decided by designers (e.g, infography) 
o Not by programmers
View Design
3
Web Pages F. Dubisy & B. Bodart
Project Structure
View : Web pages
Business rules and processes
4
Web Pages F. Dubisy & B. Bodart
Project Structure
View : Web Pages (html, xhtml, jsp…)
Template
5
Web Pages F. Dubisy & B. Bodart
Web Pages
6
Could be
o Simple html/xhtml pages
o Javascript
o Angular
o React
o jsp
o …
Web Pages F. Dubisy & B. Bodart
JavaServer Pages
o Technology to create dynamically generated web pages
Text document that contains
o Static data expressed in text-based format, e.g, html
o JSP elements to construct dynamic content
JSP Pages
7
Web Pages F. Dubisy & B. Bodart
Use Tag Libraries to add components to web pages with tags
o Include Tag Libraries at the beginning of jsp pages
Tag libraries are declared with named properties
o uri
o prefix
E.g, JSTL (see module 5 – Controllers)
o JavaServer Pages Standard Tag Library 
• Collection of tags providing core functionalities
• Support for common, structural tasks 
o such as iteration, conditionals…
Tag Libraries
8
Web Pages F. Dubisy & B. Bodart
Example of namespace declaraton in jsp page
Example of tag use
Tag Libraries
9
Web Pages F. Dubisy & B. Bodart
Include of a jsp page into another one
o Use   <%@ include  file = ...  %> 
Include
10
Web Pages F. Dubisy & B. Bodart
E.g,
Include
11
Web Pages F. Dubisy & B. Bodart
Include JavaScript with <script> html tag
o Import from external source
o Import from files in project
o Inline JavaScript in the page code itself
E.g,
JavaScript
JavaScript code
Some .js file in the project
12
Web Pages F. Dubisy & B. Bodart
Include CSS files with <link> html tag
E.g, 
CSS
13

Web Pages F. Dubisy & B. Bodart
Front-end web framework (from Twitter) 
HTML, CSS, and JS framework 
Open-source HTML- and CSS-based design templates 
For designing websites and web applications
For developing responsive, mobile projects on the web
● One framework for every device
● Bootstrap resizes websites with a single code base
● From phones to tablets to desktops
● With CSS media queries
Bootstrap
14
Web Pages F. Dubisy & B. Bodart
Container, Row and Column
<div class="container">
    <div class="row">
        <div class="col">
          …
        </div>
        <div class="col">
          …
        </div>
        …
    </div>
</div>
15
Web Pages F. Dubisy & B. Bodart
Columns
Every screen is divided into 12 Columns
16

Web Pages F. Dubisy & B. Bodart
Breakpoints
6 breakpoints
o Extra small (xs)
o Small (sm)
o Medium (md)
o Large (lg)
o Extra large (xl)
o Extra extra large (xxl)
17

Web Pages F. Dubisy & B. Bodart
Responsive Design
<div class="container">
  
        <div class="row">
<div class="col-12 col-md-8" style="background-color:blue">
<button>Programming</button>
<button>Artificial Intelligence</button>
</div>
<div class="col-12 col-md-4" style="background-color:red">
<button>Web </button>
<button>Database</button>
</div>
        </div>
         <div class="row">
<div class="col-6" style="background-color:green">
<button>Java</button>
</div>
<div class="col-6" style="background-color:yellow">
<button>Crypto</button>
</div>
         </div>
 </div>
18
Same number of columns on all devices
12 columns on small devices
8 colums on screens >=768px
Web Pages F. Dubisy & B. Bodart
Responsive Design
Code inspection : right click on a HTML page → Inspect
19

Web Pages F. Dubisy & B. Bodart
Responsive Design
20
To emulate different screen size
Web Pages F. Dubisy & B. Bodart
Documentation 
Grid System
https://getbootstrap.com/docs/5.3/layout/grid/
21


==================================================
FILE: Théorie/Module 5 - Controllers.pdf
==================================================

Controller F. Dubisy & B. Bodart
Module 6
Controllers
Controllers F. Dubisy & B. Bodart
Table of Contents
 Request processing
 Creating a Controller
 Parameter in Url
 Model Dictionary
 Form Controller
 Redirection
 Unified Expression Language
 JSTL 
 Form Validation
2
Controllers F. Dubisy & B. Bodart
Request processing
<Controller class>
 {   
<get method>
{ …
<return jsp page>
}
 }
HTTP 
Request
View
<Service>
DB
3
Controllers F. Dubisy & B. Bodart
HTTP Request -> call to the appropriate method of the 
corresponding controller
Need for a Controller class
Need for a processing method
o calls to services if needed
         -> service might access database
o Returns a view, usually a jsp page
 Data passed to the jsp page using a Model object)
Request processing
4
Controllers F. Dubisy & B. Bodart
Imports
o org.springframework.stereotype.Controller;
o org.springframework.web.bind.annotation.*;
Class annotation
o @Controller
Handler Method
o @RequestMapping (method = RequestMethod.GET)
o @GetMapping
o Returns the name of the view to send back (jsp page)
Creating a Controller
5
Controllers F. Dubisy & B. Bodart
Request path
o With annotation on controller class and/or on method
o @RequestMapping (…)
o @RequestMapping (value =  … , method = …)
Creating a Controller
6
Controllers F. Dubisy & B. Bodart
Creating a Controller
7
package com.example.demo.controller;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;
@Controller
@RequestMapping("/demo")
public class DemoController {
    @ResponseBody
    @GetMapping("/hello")
    public String helloMethod() {
        return "hello";
    }
}
Controllers F. Dubisy & B. Bodart
Used to pass parameters through URL
Key-Value pairs, = connector, ? and & separators
Example :
http:/example.com?param1=value1&param2=value2
Handling in controller with annotation in method parameters
o @RequestParam
 required : true/false
 defaultValue : if no value was given
Query String
8
Controllers F. Dubisy & B. Bodart
Query String
9
package com.example.demo.controller;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;
@Controller
@RequestMapping("/demo")
public class DemoController {
    @ResponseBody
    @GetMapping("/hello")
    public String helloMethod(
@RequestParam(required = false, defaultValue = "") String name) {
        return "Hello " + name;
    }
}
Controllers F. Dubisy & B. Bodart
If you want to differentiate behaviour if parameters are present or 
not, use overloading
o Same method name, different parameters
Query String
10
Controllers F. Dubisy & B. Bodart
Query String
11
package com.example.demo.controller;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;
@Controller
@RequestMapping("/demo")
public class DemoController {
    @ResponseBody
    @GetMapping(value = "/hello", params = {"name"})
    public String helloMethod(@RequestParam String name){
        return "Hello " + name;
    }
    @ResponseBody
    @GetMapping("/hello")
    public String helloMethod() {
        return "Hello World!";
    }
}
Controllers F. Dubisy & B. Bodart
Can be defined in mapping and method parameters with annotations
@ResponseBody
@GetMapping("/display/{text}")
public String display(@PathVariable String text) {
    return text;
}
Path variable
12
Controllers F. Dubisy & B. Bodart
Used to pass data from controller to view (jsp page)
By default, scope = request
o means the model data will cease to exist once the request 
has been handled
Model Dictionary
13
Controllers F. Dubisy & B. Bodart
Model class object
o org.springframework.ui.Model class
o Key-Value pairs dictionary
 Key (Id) : String
 Value : object
 To add an entry : addAttribute("modelAttributeID",value)
o Passed as param to handler method (injected)
How to use of the data
o Controller adds data to Model object
o Data is accessed (using ids) in the jsp page
 Syntax : ${modelAttributeID}
Model Dictionary
14
Controllers F. Dubisy & B. Bodart
Model Dictionary
15
package com.example.demo.controller;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;
@Controller
public class HelloController {
    @GetMapping(value = "/hello", params = {"name"})
    public String helloMethod(@RequestParam final String name,
                              final Model model){
        model.addAttribute("nameId",name);
        return "hello";
    }
    
}
Controllers F. Dubisy & B. Bodart
Model Dictionary
16
<%@ page contentType="text/html;charset=UTF-8" 
language="java" %>
<html>
<head>
    <title>Title</title>
</head>
<body>
Hello ${nameId} !
</body>
</html>
Controllers F. Dubisy & B. Bodart
Form Controller
Controller class      
 {   
get handler
post handler
 }
url
Form jsp page
submit
Jsp page
17
Controllers F. Dubisy & B. Bodart
Form
o Fields
o Submit button
Submit button → sends HTTP POST to server
E.g,
Form Controller
18
Controllers F. Dubisy & B. Bodart
Define a form class corresponding to the form data
o Each form field = a property (instance variable) in the class
o Getters/setters
E.g,
Form Controller – Form Class
getters/setters
19
Controllers F. Dubisy & B. Bodart
Define a controller class
Must create an instance of the form model class 
o In the get handler
o Add it to the Model dictionnary
Form Controller – Controller Class
20
Controllers F. Dubisy & B. Bodart
Create a post handler
o @RequestMapping (method = RequestMethod.POST)
o @PostMapping
o Receives form object as input
 Use @ModelAttribute annotation on this input
o Returns
 Either a view (jsp page)
 Or redirection (see further)
Form Controller – Controller Class
21
Controllers F. Dubisy & B. Bodart
E.g,
Form Controller – Controller Class
Add a form object to the model 
dictionary 
Property values of inscriptionForm can be 
automatically filled with values entered by the 
user through the form thanks to Data Binding
22
Controllers F. Dubisy & B. Bodart
Create a form jsp page
Tag library
Tag : form
o method 
 Post
o action 
 Target path for the post method (cf value of the @PostMapping)
o modelAttribute 
 Id of the form object corresponding to the form in the Model 
dictionary 
Form Controller – Jsp Page
23
Controllers F. Dubisy & B. Bodart
Data binding
o To automatically link value from fields (of jsp form) to properties 
of the model
o In field tag (<form:label>, <form:input> …)
 path : corresponding property name (instance variable) of the form 
class 
Form Controller – Jsp Page
24
Controllers F. Dubisy & B. Bodart
E.g,
Form Controller – Jsp Page
If "/first" is the root of the project
Cf name property of UserForm  
Cf zipCode property of UserForm  
 Data Binding :
The name and zipCode properties of the inscriptionForm object are 
automatically filled by values entered by the user
25
Controllers F. Dubisy & B. Bodart
Output of the get/post handler
o Either a jsp page
o Or redirection
Redirection
o To an url
    → calls the get handler of an existing controller 
Syntax
o redirect : path
Redirection
26
Controllers F. Dubisy & B. Bodart
E.g,
Redirection
                  Jsp page
  Jsp page
     Call of a controller
27
Controllers F. Dubisy & B. Bodart
Unified Expression Language (UEL)
o Syntax to interact with beans
In Web pages :
o ${scope.expression}
 Where scope is optional
Unified Expression Language 
28
Controllers F. Dubisy & B. Bodart
Scopes in UEL
o applicationScope 
 A Map of the application scope attribute values, keyed by attribute name
o requestScope 
 A Map of the request attributes for this request, keyed by attribute name
o sessionScope 
 A Map of the session attributes for this request, keyed by attribute name
o view 
 The root UIComponent in the current component tree for this request
o cookie 
 A Map of the cookie values for the current request, keyed by cookie name
o facesContext 
 The FacesContext instance for the current request
Unified Expression Language 
29
Controllers F. Dubisy & B. Bodart
Scopes in UEL (continue)
o Header  
 A Map of HTTP header values for the current request, keyed by header 
name
o headerValues 
 A Map of String arrays containing all the header values for HTTP headers 
in the current request, keyed by header name
o initParam 
 A Map of the context initialization parameters for this web application
o Param
 A Map of the request parameters for this request, keyed by parameter 
name
o paramValues 
 A Map of String arrays containing all the parameter values for request 
parameters in the current request, keyed by parameter name
Unified Expression Language 
30
Controllers F. Dubisy & B. Bodart
Use UEL in web pages to access data passed from controller
o Data passed in the model dictionary object
Access to an object from the model dictionary using its key
   ${objectModelKey}
E.g,
o Controller :
String message = "Hello";
model.addAttribute("messageID",message);
o Jsp page :
${messageID}
Unified Expression Language 
31
Controllers F. Dubisy & B. Bodart
To access a property of an object from the model dictionary
    ${objectModelKey.property}
o If property is private and public getter exists in the class of the object
o E.g,
     Model class :
    Controller : model.addAttribute("modelObjectID", new ModelClass())
    Jsp page : ${modelObjectID.name}
 
Unified Expression Language 
         ModelClass
private String  name
public getName()
32
Controllers F. Dubisy & B. Bodart
E.g,
o If ModelClass has a private property called user (with public 
getter) which is a reference to an object of the Person class
o and if Person class has a private property called name (with public 
getter)
Unified Expression Language 
  ModelClass
…
Person  user
     Person
String name
 In jsp :  ${modelObjectID.user.name}
33
Controllers F. Dubisy & B. Bodart
To link Web page components to a collection (list, array…)
   ${ …list[ i ]}
o E.g,
 If ModelClass has a private property called persons (with public 
getter) which is an ArrayList of Person type objects
Unified Expression Language 
           ModelClass
…
ArrayList <Person>   persons
      Person
String name
 In jsp :  ${modelObjectID. persons[2].name}
34
Controllers F. Dubisy & B. Bodart
To link Web page components to a hash map
${ …hashMap[ 'idValue' ] }
o E.g,
 If ModelClass has a private property called personsMap 
(with public getter) which is an HashMap of objects from the 
Person class
 In jsp :  ${modelObjectID. personsMap[ 'id234' ].name}
Unified Expression Language 
35
Controllers F. Dubisy & B. Bodart
Other UEL operators
 Arithmetic
 +, - , *, /, div, %, mod
 Logical
 and, &&, or, ||, not, !
 Relational
 ==, eq, !=, ne, <, lt, >, gt, <=, ge, >=, le
 Empty
 To determine whether a value is null or empty
 Conditional
 A ? B : C. 
 Evaluate B or C, depending on the result of the evaluation of A
Unified Expression Language 
       36
Controllers F. Dubisy & B. Bodart
 The precedence of operators
• [ ] 
• () (used to change the precedence of operators)
• - (unary) not ! Empty
• * / div % mod
• + - (binary)
• < > <= >= lt gt le ge
• == != eq ne
• && and
• || or
• ? :
Unified Expression Language 
       37
Controllers F. Dubisy & B. Bodart
JavaServer Pages Standard Tag Library (JSTL)
o Collection of tags to provide core functionality
o Support for common, structural tasks 
 such as iteration, conditionals …
 To include JSTL Core library
o Usually prefix="c" 
o uri="http://java.sun.com/jsp/jstl/core" 
JSTL
38
Controllers F. Dubisy & B. Bodart
     <c:if   test = "  … "  >
…
</c:if>
N.B. No else !
E.g,
JSTL
 if
39
Controllers F. Dubisy & B. Bodart
     <c:choose>
<c:when   test = "  … "  >
    …
</c:when>
<c:when   test = "  … "  >
    …
</c:when>
   …
<c:otherwise >
   …
</ c:otherwise >
</c:choose>
JSTL
choose
40
Controllers F. Dubisy & B. Bodart
   <c:forEach    items = "Y"    var = "X" >
 …  ${X} …
 </c:forEach >
JSTL
 forEach
Objects Collection
ArrayList<Category>
E.g, on an ArrayList
         Category
private String name
public getName()
41
Controllers F. Dubisy & B. Bodart
JSTL
 forEach
E.g, on a hashmap
HashMap<Integer,Student> 
Key Value
         Student
private String name
public getName()
42
Controllers F. Dubisy & B. Bodart
     <c:set    
   var = "…"    
  scope= "…"  
  value = "…" 
     >
Scope
o page
o request
o session
o application
JSTL
 set
Name of the variable
Scope of the variable
Value of the variable
43
Controllers F. Dubisy & B. Bodart
To validate data entered by the user in the form
E.g,
o Name
 From 3 to 30 characters
o Zip code
 Not empty number
 Value between 1000 and 9999
Be carefull about validation! Many edge cases and unforeseen possible values!
Form Validation
44
Controllers F. Dubisy & B. Bodart
Add a dependency
Form Validation – pom.xml
45

Controllers F. Dubisy & B. Bodart
    Achieved with annotations in model classes
o Annotations on properties (instance variables)
    javax.validation.constraints
o @NotNull
o @NotEmpty : not null or empty for string, collection, map or array
o @NotBlank : not null or empty for strings
o @Size : number of characters (for strings)
 min attribute / max attribute
o @Min / @Max : minimum / maximum value allowed for numbers
 value attribute 
o @Past / @Future : for dates before or after the current date
o @Pattern : the character sequence must match the regular expression
 regexp attribute
o @Email : well-formed email address
o …
Form Validation – Model Class
46
Controllers F. Dubisy & B. Bodart
E.g,
Form Validation – Model Class
47
Controllers F. Dubisy & B. Bodart
Other validation annotations
org.hibernate.validator.constraints
o @Range : to define range of values
 min attribute / max attribute
o @URL : valid URL
o ...
Form Validation – Model Class
48
Controllers F. Dubisy & B. Bodart
   org.springframework.format.annotation
o @NumberFormat : to specify the style of number (currency, percent…)
 style attribute 
o @DateTimeFormat : to specify the pattern of date values
 pattern attribute, ...
o ...
Form Validation – Model Class
49
Controllers F. Dubisy & B. Bodart
In the Controller class
Import
o import javax.validation.Valid;
o import org.springframework.validation.BindingResult;
Post method
o Inputs : 
 Use @Valid annotation on form Model object
 Add BindingResult as input
Form Validation – Error management
50
Controllers F. Dubisy & B. Bodart
E.g,
Form Validation – Error management
51
Controllers F. Dubisy & B. Bodart
Specify where to display the error messages
o Tag 
 <form:error >
o Attribute 
 path : id of the corresponding field
Form Validation – Error management
52
Controllers F. Dubisy & B. Bodart
E.g,
Form Validation – Error management
Error messages to display
53


==================================================
FILE: Théorie/Module 6 - Templates.pdf
==================================================

Template F . Dubisy & B. Bodart
Module 7
Templates
Templates F . Dubisy & B. Bodart
Table of Contents
Why to Use a Template?
How to Use a Template? 
Configuration
Template Page
Adapt Page Url in Controller
2
Templates F . Dubisy & B. Bodart
To display several pages in the same way
To maintain a standard look and feel in an application with a large 
number of pages
To make changes in one place only
To reuse code and avoid recreating similarly constructed pages
Why use a Template?
3
Templates F . Dubisy & B. Bodart
Configuration
o pom.xml
o Configuration class
o tiles.xml
Create a template page 
o Defining the default page structure
o Acting as the basis for other pages
Create client pages
o Pages built based on the template
o Inserting their own content into the template
How to use a Template?
4
Templates F . Dubisy & B. Bodart
<html>
   <head>
    ...
   </head>
   <body> 
      <div>
      <!-- **************** BANNER ***************** -->
       …
      </div>
      <div>
      <!-- ************** LEFT MENU **************** -->
      …
     </div>
     <div>
     <!-- ************* MAIN CONTENT ************* -->
        <div>
            <tiles:insertAttribute name="main-content" />
        </div>
     </div>
     <div>
     <!-- ****************** FOOTER ***************** -->
     …
    </div>
   </body>
</html>
How to use a Template?
5
Banner
Footer
Menu Main content
Templates F . Dubisy & B. Bodart
Add a dependency
Configuration – pom.xml
6
Templates F . Dubisy & B. Bodart
Remove InternalResourceViewResolver from Configuration class
Configuration – TilesConfig class
7
Templates F . Dubisy & B. Bodart
Use TilesViewResolver 
Configuration – TilesConfig class
8
Templates F . Dubisy & B. Bodart
Create tiles.xml
o Template definition
o Prefix to be used
Configuration – tiles.xml
9
Templates F . Dubisy & B. Bodart
Configuration – tiles.xml
Page name must be preceded by "integrated:" when returned by controller method in order to apply 
template
Location of the template
10
Templates F . Dubisy & B. Bodart
Create template.jsp
Import tiles tag library
Use <tiles:insertAttribute> to define editable area
i.e, the area to be replaced by the content of the specific page
Template Page
11
Templates F . Dubisy & B. Bodart
Adapt handler methods in Controller in order to apply template
Prefix url of pages returned by the methods with prefix value 
specified in the tiles.xml
E.g,
Adapt Page Url in Controller
12


==================================================
FILE: Théorie/Module 7 - Components and Services.pdf
==================================================

Component and Service F. Dubisy & B. Bodart
Module 7
Components and Services
Components and Services F. Dubisy & B. Bodart
Table of Contents
• JavaBean
• Component 
• Bean Injection
• Service
2
Components and Services F. Dubisy & B. Bodart
JavaBean is a Plain Old Java Object (POJO) that 
o is serializable
o has a no-argument constructor
o allows access to properties using getter and setter methods
JavaBean
3
Components and Services F. Dubisy & B. Bodart
Java class annoted by @Component
o Name of the bean can be specified with the annotation (optional)
Definition of bean for the Spring IoC container
 This bean can be injected in the application when needed
By default, application scope (singleton pattern)
    The same object instance will be reused
 Pay attention when modifying instance variables
Can also use session scope
Component
4
Components and Services F. Dubisy & B. Bodart
Different component types for bean injection
    → Special Component annotations
o Controller  (Spring Web MVC controller)
o Service  (see below)
o Repository (see DAO)
Component
5
Components and Services F. Dubisy & B. Bodart
Spring BeanFactory able to autowire dependencies between 
collaborating beans
o Able to inject a bean into another one
Use @Autowired on constructor
Bean Injection
6
Components and Services F. Dubisy & B. Bodart
For bean injection of service-layer class (information logic)
o For classes containing business rules and processes
using @Service annotation
o specialization of @Component
Application scope (singleton pattern)
E.g, 
Service
7
Components and Services F. Dubisy & B. Bodart
Injection of service bean with @Autowired
Service
8


==================================================
FILE: Théorie/Module 8 - Session Attributes.pdf
==================================================

Session Attribute F. Dubisy & B. Bodart
Module 9
Session Attributes
Session Attributes F. Dubisy & B. Bodart
Table of Contents
• Bean Scope
• Session Attribute
• Session Attribute Injection 
2
Session Attributes F. Dubisy & B. Bodart
Lives as long as the web application
o Objects with this scope
• Are visible in all request/response cycles for all clients as long as the 
        application is active
• Are created upon the first HTTP request when the web application 
starts up
• Are destroyed when the web application shuts down
Bean Scope - Application
3
Session Attributes F. Dubisy & B. Bodart
Persists across multiple HTTP requests using the same user session
o Objects with this scope
• Are visible for any request/response cycle that belongs to a session
• Have their state preserved between requests until the end of the 
session
 
 Bean Scope - Session
4
Session Attributes F. Dubisy & B. Bodart
Persists during a single HTTP request
o Objects with this scope 
• Are visible from the start of the request 
• Until the end of the request handling, i.e, when the response has 
been sent to the client
Bean Scope - Request
5
Session Attributes F. Dubisy & B. Bodart
To pass model data from controller to view (jsp page)
o using Model dictionary
o By default, scope = request scope
• One instance of each model object created for each request
>< Session scope
o One instance of the model object created for an entire session
o Allows to maintain state between several requests
Session Attribute
6
Session Attributes F. Dubisy & B. Bodart
Declare session attributes using @SessionAttributes
o import org.springframework.web.bind.annotation.SessionAttributes;
o Give them a unique name (id)
Declare them in handler methods as input 
Use @ModelAttribute with the same unique name (id)
Use them in jsp pages with the same unique name (id)
o Syntax : ${uniqueNameID}
Session Attribute
7
Session Attributes F. Dubisy & B. Bodart
Example
A session attribute to store a color chosen by the user
Model class
Session Attribute – Model Class
8
Session Attributes F. Dubisy & B. Bodart
Session Attribute - Controller
 Constant ID for the session attribute 
Apply session scope to mainColor attribute
Declare a model attribute with name = mainColor
+ method to initialize it
9
Session Attributes F. Dubisy & B. Bodart
colorPage.jsp
showColorPage.jsp
Session Attribute – Jsp Page
10
Session Attributes F. Dubisy & B. Bodart
If no value for @ModelAttribute 
o The value is the name of the method
E.g,
Session Attribute
No value for the annotation
The value of the session attribute ID is 
chosenColor
11
Session Attributes F. Dubisy & B. Bodart
How to access session attributes in other controllers?
Using @SessionAttributes
o On Controller class
o Using the same unique name (value=...)
Session Attribute Injection 
12
Session Attributes F. Dubisy & B. Bodart
E.g, mainColor session attribute created in ColorController
    
Access in HelloController
Session Attribute Injection 
13


==================================================
FILE: Théorie/Module 9 - Internationalization.pdf
==================================================

Internationalization F. Dubisy & B. Bodart
Module 9
Internationalization
Internationalization F. Dubisy & B. Bodart
Table of Contents
• What is Internationalization?
• Language Property Files
• Configuration for Internationalization
• Using Language Files in Web Pages
• Access to Translated Message in Java
• Translation of Error Messages 
• Locale Chosen by the User
• Internationalization of Dynamic Data
2
Internationalization F. Dubisy & B. Bodart
To build localized applications
To display text according to the language chosen by the user
Static labels
o Using bundles of property files
Dynamic values 
o From database
What is Internationalization?
3
Internationalization F. Dubisy & B. Bodart
Bundle of property files
One property file per language
o Containing values for static labels translated in this language
Name of file
o rootName_XX.properties 
• where rootName is the same for all files
• and XX are two characters corresponding to the language
fr, en, nl, de…
o E.g, 
• general_en.properties
• general_fr.properties
• general_nl.properties
Language Property Files
4
Internationalization F. Dubisy & B. Bodart
Each file contains key-value pairs
o Key : identifier of the label
o Value : translation of the label in the language
E.g,
o general_fr.properties 
firstName=Prénom
lastName=Nom de famille
welcome=Bienvenue !
age=Quel est ton âge?
sendButton=Envoyer
o general_en.properties
firstName=First Name
lastName=Last Name
welcome=Welcome !
age=How old are you?
sendButton=Send
Language Property Files
5
Internationalization F. Dubisy & B. Bodart
In MainConfiguration class add 2 bean declarations
o DefaultMessageCodesResolver
o ResourceBundleMessageSource
Configuration for Internationalization
6
Internationalization F. Dubisy & B. Bodart
Configuration for Internationalization
Package of the language property files Root name of files For error messages translations 
 
7
Internationalization F. Dubisy & B. Bodart
<spring:message>
o To access to the translated message 
o Attribute
• code 
o Key in language property file
E.g,
Using Language Files in Web Pages
8
Internationalization F. Dubisy & B. Bodart
Access to org.springframework.context.MessageSource
   using autowired injection 
o Use getMessage method with key and locale
o E.g,
Access to Translated Message in Java
     Key in language property file
9
Internationalization F. Dubisy & B. Bodart
Add language property files for error messages
Key in language property files
o Use NotNull, Min, Size… (cf annotation in the Model class)
o + either a class name or an attribute of the model 
Translation of Error Messages
10
Internationalization F. Dubisy & B. Bodart
E.g, see validation annotations in UserForm model class
Translation of Error Messages
11
Internationalization F. Dubisy & B. Bodart
E.g,
Translation of Error Messages
12
Internationalization F. Dubisy & B. Bodart
 errors_en.properties
 errors_fr.properties
Translation of Error Messages
13
NotNull.java.lang.Integer=The Integer cannot be null
NotNull.java.lang.String=The string may not be null
NotNull.userForm.zipCode=The zip code cannot be null
Min.userForm.zipCode =The zip code is greater or equal to 1000
Size.userForm.name=The name must have between 3 and 30 letters
NotNull.java.lang.Integer=L'entier ne peut pas être vide
NotNull.java.lang.String=La chaîne de caractères ne peut pas être vide
NotNull.userForm.zipCode =Le code postal ne peut pas être vide
Min.userForm.zipCode=Le code postal doit être supérieur ou égal à 
1000
Size.userForm.name=Le nom doit comprendre entre 3 et 30 lettres
Internationalization F. Dubisy & B. Bodart
If the error is not handled by Spring, it is necessary to look for the exact 
error code 
o See the contents of the BindingResult object in debug mode
o E.g, TypeMismatch
Add error message translations in errors.properties
o E.g,
Translation of Error Messages
14
Internationalization F. Dubisy & B. Bodart
The user can choose the language 
o E.g, by a click on an icon 
• Usually representing flags or locale name
Locale Chosen by the User
15
Internationalization F. Dubisy & B. Bodart
How ?
o Add a locale parameter to each url (query string) E.g, ...?locale=fr
• See definition of button in jsp pages
o Use a session cookie
• storing the chosen locale
• In Configuration class
o Use CookieLocaleResolver
o Use an interceptor to intercept request before call of controllers
• catches the locale parameter and places it in the session cookie
• In Configuration class
o Use LocaleChangeInterceptor
Locale Chosen by the User
16
Internationalization F. Dubisy & B. Bodart
Locale Chosen by the User – jsp page 
  
    Use <spring:url> to define url
o Use <spring:param> to add 
parameter to url
17
Internationalization F. Dubisy & B. Bodart
Locale Chosen by the User – jsp page 
E.g, 
Add "?locale=fr" to url
Add "?locale=en" to url
Definition of buttons using spring:url
18
Base URL
Internationalization F. Dubisy & B. Bodart
In Configuration class
Locale Chosen by the User – Configuration 
Default locale
-1 for session cookie
Name of parameter to intercept in url
19
Internationalization F. Dubisy & B. Bodart
Translation of labels in database
E.g,
Internationalization of Dynamic Data
Language
 LanguageId
Item
ItemId
UnitPrice
…
      
     Label
     Description
     …
Characteristics of item
without translation
Characteristics of item
for which translation is needed
20
Translation
TranslatedItem
 
TargetLanguage
 


==================================================
FILE: Théorie/Security-1.pdf
==================================================

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
� � ���� � � ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
����������������
������ ��� �������� ����������� ��
� �� �������������� �� � ���
�������� ��� �� ������� � ���������
��� �� ��� ������ ����� ��� ������� ��
������ �� �������� � �������� � ��� ���
�������� ����� �������� ���� �����
������
�� ��� ���� ��� ������ ��� ���� ���
��������� ��������������� �� �����
�� �� �� �������� �� �������� ��� ��
�� ����������������� ������ ���������
�� �����������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
����� ���������������
������ �� ��� �������� ������� ���� ����� ��� ������ �� �������� ����
��� �� ������� ��� ������� �� � ���������� �� ��������������� ���� ��
������� �������� � ������� �� �������������� �� �������� �� � ������ � ��
������� � �������� �� ���� ��������� ������ ���������
�������� �
������������ ��� � � ��� � ��� �� ������� � ��
������������ ����� � ��� ������ ��� �����������
������������ ������ � ��� ������ ����������� � ��
��������������� ���� ��� ��� � ����
�� ���� ����� � ����� ��� �� � ������ � �� ������� �� � ���������� �� ����� ���
�� ��� ����� � � �� ���� ��� ������ ��� � ������ ����� ��� ����� ���� ��������
�� ������ ��� � � ��� �� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
������� ��������
���� ��������� ���� ���� ��� ���� �� �������� ��� �� �� ��������������
��������� �� �������� �� ��������� ���� �� ����� ��� �������� �� ��� ��� ����
�������� ������ ������ ��� ��� �� � ��� ����������
������ �� �������� �� ��� ������������ ����� ���� �������� ��� �� �� �����
��� �� �������� �� � ������� ������� ����� ���������� ����� ������ ����
��������� � ��������� ������������� ����� ��� ��� � ���� � ������� ��
���������
�������� �
������������ � ������������ �� ����� ���
�� � ��� �� ���� ����� ������
����� �� � ������ ��� �������
������������ ��������� ���� ������ � ��
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
��������� �� �������� � ����
��� ��������� ���� ������ ����� ����� � �� ���������� �� ���� �� ����
��������� �� ���� ������� ���� ������� ��������� ��������������� ��
�� ��� �� �������������� ��� �� ������� ������������
�������� �
��������� ��� ���� � ���� ���� � ���
��������� ��� �� ������ � �� � ��� � ������ ����� ���� ���
����� ����� ����
�� � ���� ������ ������ ��� ��������
�� �������������� ��� �������� �� ��������������� �������� �� �����
��� ���� �� ������� ��������� �� � ���� ��������� ��� �������������� � ��������
����� ��� ���������� ��� �������� � ��������� �� ������ ����
�� ����� ���� ��� ������������ ������������� � �� ���� ����� ����� ���
����� ����������� ���������� ����� � ���� �� ��� ���� �� ��� ������ ��� ��
����� ��� ��������� ������� ��� ����� � ��� ������� �� ���� ������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
���� ������� ����������
�� ������������� �� ��������� ��� ��� ������ �� �������� ������� ��
����������� ������ ��������� ��� ���� ���� ��� ������ � ���� ������� �� ����
��� ���� ��������� �� ������ ��������� ���� �� ����� ������� � �� � ��������
�����������
�� � ��� ������ ������ ������� ��� �
���� ���� ������ �� �������� � ��������� �� ��������� ��������� ���
������� �� ������� � �� ����������� ������ ����������� �������� ���
������� �� ������������ � �������� �������� ���� ��� �� ����� ��� �� ��
������������ ���
��� ��������� �� ������� � � �� � �������� �� ��� � ����������� ���
���� �������� ��������� �� ����� ������
�� � ������ � �� ���� � ������ ��� �� ����� �� ��� ��� ������������� ������
���������� � ����� ��������� ����� ���� ������� � �� ���� ���� �������
� ������ �� ������� �� ��� ������� ������ ���� ����� ��� �� ������ ������� �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
���������� �������
�� ������ ������� �� ��������� ���� ��� �������� ���� ������� � ����� ����
�� ����� �� �� ��� �������� ��� ����� � ���� �� ��������� �� ����� �� ����
��� ���������� ���������� ��� ��������� �������� �� ���� ��� ��������� ����
������� ������� ��������������� ���� ������� ���� ��� ����� � ���� ��
�������� ��� ��� � ��������
��������� � �������� �������� ���� �� ����� �� ����� � ��� ����� � ���� �
����������� � �� ���� � ���� � ���� �� � �������� �� ��� ������������
�� ���������� ����
���� ��������� � ��������� ��������������� �� �������� ���� ���
�������� ���� �������� �� ���� ���� ������������
���� �� ��� � �� � �� ���� �� ���� ���� ��� � ���� �� ���� � ��� ���� �� ���
� ��� ������������� ������
� ��� ������ ��� �������� �� � ������� ���� ����� �� ������� �� �����
� ������� � ����� ����� � ��� �� ��� � ��� �������� ����������� �� �� � ���
���������� ��������� �� ������ �� ���� � ���� ��� ����� ���� ��� �� ����
���� ������� ���� ����� �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
� ��� ����������
�� ������������� ��� �� ������ �� ����� ������������� ���������� �� ����
�� ����� �� �������� ���� ���� ����� ��� ����� ������ ��� �� ������� ��� ��
����� �� �� ������
��������� �
�� ����� �� ��� � ����������� ��� ���� ����� ���������� ��� ��� �����
���� ���� ��� ����� ���
����� ������� ��� ������ � ���� ���� ����� ��� ����� ���
����������� �� ���� ��� ���������� ���� �������� �������� �
����������������������� ������������ ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
�������
������������� ���� � ���� ���� �� ������������� ������ ������� �������
�� ���� ���� ��������� ���� �� ��� �� ������� � �������������� ���������
�� � ������� ��� ��� �� �������� � ��� �������� ���� ���� �� ���� ���
���� ���� �� �� ���� �������������� ��� ������������ �������
���������� ���� ������������� �� �� � ���� ���� ���� ���� ��������� ����
���� �
�������������� ��� �������� ����������� � ����� ���� �� ���
������������ ��� ���������� �� �� �� �������� �� ��
����������� ��� �������������� ������� � ������ ������ ��� ���
��� �������� ���
������������������������������������������ ������� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������������
������� �� ������� � ��������
�������� ��� ���������� �������� �� � �� ������� � �� �� � ��������� ���� ��
�� ��� �� ������� � ������� ���� ��� �� � �������� �� ��� �� ��� ����
���������� � ��� �� ������� ��� ����� ������ ���������� �� �� � �� ����
����������� ����� ��� � ����������
���� �� � ������ �� ������� � �� ������� � �� ����� �� ��� �������� � ��
� ��������� ������������� ������������ �� ������� �� ���� ��� ��������
� ������� ���� �� ������� ������ ��� ��� ������ ���� � ��� �� ������� �����
����� ���� ������� ����� ���������� �� ����� � ������������� �� ��
� ���������� ��������� ��� ���������� ������������� ������� �� �����
�������������� ����� ��� ����������� ����� ���� �� �����������
��� ����� � �� �������� �� ������� ���� �� � ������� �������������� ��
� ��������� � ��� ���������� �� �������� �� ����������������� �� ��
�������� ������� ��� �����������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ���� � ���
�� ������ ���� ���� ��� �������� � �� ��������� ��� ����� ��
����������������� ����� ��� �� ���� � ����� � ����� � ��� �� ������
� ��������� ��������������� ��� ���� ��� ����� �� �� ��������� ������ �� �
������������� �� ��� ����� �� ������� ��� ��� ������ ���� ������ �� ������
� ����� � ����� �� ��� ��������
�� ��� �� ����� ����� ��� ����� �� �� ��������� �� ��� ���� � ��� ��
��������� ������������� �� ���� �� ���� ��� ���� �� ������ � �������� � ���
�� ����� ������
���������� �
�������� �� �� ���� ������������� � ����� �� ��� �� ����� ����� ����
��� ������� � ������� �� � ������� ����� ������� �� ������
���� ����� �� ���� �� ��� �� ����� � ��� ������� ����� � �� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ���� � ���
������ ��� ��������������� �� ��������� ��� ������������ ������� �������
�� ��� �� ��� � �������� ��� ���� �� ����� ���������� ��� �� ���� � ���
�������� ������������
� ������ � ��������� �� �������� � ����� � �� �� �� ����
�� ������ ��� ������ �� ���� �� ������ �������� ����� ��������� � ��� ������
� ��� �� ����� ����� ���������� ���� � ���������� �� � ��� ����� ������ �� ���
�� ����� ������� ������ ��� ��������� �� ������ ��� �� ������ � ����
�������� ��� �����
���������� �
���� ����� ��� ���� �� ����� �������
����� ���� ������������� �� �� ���������
����� ���� ��� �� ��� ��������� �� ��� �� ����� �� ��
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ���� � ���
��� ������������� ����� ���������� ��� �������� ��� ��������� � ����������
�� ���� ��� �� ������ �� ���� �� ���� ������ ����� �� ���� �� �����
��������� �� ������ ��� ������ �� ������ � ���� �� ������ ������� � ���
�������� ������ ����� ����� � �� ����� �� �������� �� ����� �� ��������
� ����� � ����������� ������
�� ������ �������� ���� � ��� �� ��������� � ������ ��� ��������� ������
��� ����������� ����� ���� �������� ���� ����� ��� �� ������� ���
�� ����� ��������
���������� �
����� ���� �������������
�� �������� �� ��������� �� ��� �� �����
�� ������� � ������������� ���� ������������ �� ���� �� ����� �
������������ �� � ��������
��������� ����� ����������������������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
���� ����� � ��� ����������
�� ���� ��������� ��������� �� ������ ��� ��� � ���������� � ���������
���� ��� �������� ��������� � ������ �� �� ��� �������� ��� ���� �� ������
������ ����� �
�� �� �������� �������
�� �� �� ����� �� ��� ������� ������� �� ��� � ������
�� �� �������� ������� � �� ������
�� �� �� ���������� �� ��������� ����� ��� �� ��� �� ����� ���� ��
�� �� �� ������ �� ���� ������� ��� ������� �� ���� ���� ����
���������� �
��� �� �������� �������� �� �������
�� ������� ���� ��� �� �������� ���� � �� �������
��������������������������� ��� �������� �����������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
���� ����� � ��� ����������
�� ��� �� ��� ������ ��� ����������� �� �������� �� ��������� �� ����
������� ������������� �������
�� ����������� ��� � ���������� � ������ � ��� � �� ������ �� �� ���� ��� �
������ � ��� �� �� ����������
�� ����������� � ��� ������� ���� ������ � �� �� ��� �� ����� ����� ���
������ � �������� �� �� �� ����� ������� �� ��
�� ����������� ��� ���� ������� � �� �� ��� ������ �� ��� �� ����� � ����� ��
������ � ����������� �� �� ���� ��� ����� �� ���� ������� �� ����� ������� ��
���� ������� �������������� ���� ��� �� ����� �������� �� �� ������
�� ��������� ����� � ����� ��� ������������ ������������� � ������� ���
������������� �� ���� ��� �� ������ ���� ��� �� ����� ������� � ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ���� � ���
��������� ����� ��� �� ����� �� �� ����������������������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ���� � ��� ��� ����
�� ��� �� ��� ���� ��� �� ����� ���� ������� ��� ���������� �� � ��� �� �����
���� ���� �� �������� � ��������� �� ���� ����� ��������� ������ �� ����� �
������� �� ����� �����
��������������������������������������������
������� ���������� ������ ����� �� ������ ��������� �����
�������������������������������������������
����� ������� ���� �������� ��������� ���� ���������� ���������� ���
��������� �� ���� ���������� � ������� ���� ���� �����
��������� ���� ���� �� ���� ������ �� ���������
�� ������ � ����� �� ������ ������ ��� �������� �����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
����������� � �������������� � �� �
����������������� �� � ��� �� ����� ����� ��� �������� �� ���� ��������� ��
���� ���� �� ���� �� ���� ���� ������ ��� ����� ��� ��������������� �� �
������ �� � ������� ��� ��������������� � ���� ���������
�� � ������ � ��� �� ������� ���������� �� �� � �� �� ��������� �������� ���
� ������ ���� �
��� ��� ���� ����� � ��� �� ������ ��� ���� ������� �������� ���
��� ��� ���� ���� � ��� �������� �� ������ ����� �� ���������� ���
��� ��� ���� ���� � ��� �������� �������������� �������� ���
�� ������� ��������������� �� ��� ����������� �������� ���� ����� ���
�� ����� ������� ���� ��� ����������� ����������
����� ����� �� ����� ��� ������ ��� �� �������� �� � �� � ������� ��
�������� � ��� ����������� �� ���� ������������ ��� �� ��������� ���� �� ��
��� ��� �� ������� ���� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
����������� � �������������� � �� �
������������� �� � �� � � ��� �� ��� � ������� ��� ��� �� ������ �� �� � ���
�� ����� �������� ����� �� � �� ����������������� ���������� �� ����
��������
��� �
�� � � ��� ��������� ���� ��� �� ����� �� ������� ������ �� ������� ���
���������� �� ��������� ��� ����������� ����� � ����� ������ ���
��������� ��������� ��������������� ����� ��� ��������� ����� ��
��������� �� ����� ������� �� ��� �� ������
��� �
�� � ���� ��� �� ����� �� ����� �� ��� �� ������������ �� ��������� ���
�������� ����� ��������� ����������� ����� � ����� ������� ���� ����
����� ����� ���������� ����� � �� �� ���� ����������� ��� ��� �� ��
��������� �� ��������� � ��� ������� ����� �������� ��� ���� ���������
�� ���� �� ������� ������� � ����� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� ����������
������������� �������������� � �� ������ ��������� ������� �� ������������
���� ���� ����� ��� �������� �������� �� � �� ������� �����������������
� ����� �� � ������� �� ������� �� ���� ��������� �� ����� ����� ���
������� �� �� � ������� ��������� ��� � �������� �� � ���� � ���� � ����
�� ������ ��� ������ ���������� � ��� ������������� ������� � ������������� �
������ �������� �� ������� ��� ���� �� ����� ��� ������� ��� ������ ���
���� ������ ���� ��� ��� �������� ���� ��������� �� � �� ���� ������������
�� �� � �� �� ���� ������� � ��� ������ �� ����� ��� �������� ���� ������
����� �� � �� �� �� �������� ��� ����� �
����� ������ �� � �� ������� ������ ��� �����������
����� �������� �� � �� ������ � ������ �������
�� ����� �� � �� ������� ��� ���� � ��� ������� ��� ��� �� �� �� �������
���� ������ ��� ���� �������� �� �������� ��������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �� � � ���������
������� ���� ������� �� �� �� ������� �
��� ��� ������������� � ������ �� ��������� ����
��� ���� �� ������ ���������� � ����� ���� ����
��� ���� �� ��������� � ������ ����� ����
� ����� � ������� � ���������
� ��� ��������� ������� �� � ������� ������� �� �� �� ������� �� ����
������� �� ������ � ��� � ����� ������
���������� � ������� �� �� �� ������� �������� ��������� �� ��� �� �����
���� �� �� � ������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� ���� �������
�� ������� �� ���� �� ������� ����� �� ������ �� �� ������� � ��� ����������
�� ���������� ������ �
����� ����� ������ ������� ����� ��������������� ���������
������ �� ������� �� ������� ���� �������������� �� �� ��� �� ��
��������
������ �� ���� ���� ��������� �� ������� ��� ���� � ��������
� ����� � ������� ������������
� ��� ������� ��� ������ ���� �� � �� ��������������� ������ � ���
���������� ��� ��� ��� ����������� ������ ���������� �� � ��� ������� ��
� �� � ����� �� ��� ��������� � ����������� ������� � �� ��������
���������� � �� ����� ��������� ���� �������� �� ����� �� �� � �� ����
� ���� ���� ������ ��� ��� ������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
�� ���� ���� �����
�� ���� ���� ������� ���� �� � ������� ����
�������� ��� �� ���� ��������������
�������� � ����� ���� ���������� ��� ���
�� ����� ���� ����������� �� �� �� �����
�������� �� ���� ������ �� �������
��� �� �� �� � ������� �� ��� ���� �� ����
����� ��� ��� ��������� �������� � ���
������� ���������� ���� ������ �� �� �� ��������
�� ����������� ��� ������� �� �� ���� ���
���� ��� ��������� �����������
�� ���� ���� ������ �������� � ��������� ��
������������ ��� �� ����� ���� ������� ��
����� ��� � ��� ���� �� �������� ������� ���
�� ����� ����� ��� ������� ��������� ���
������ �� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
��� ���� �������� � � ���
���������� �� ��� ��� ������ ����� ���� �� ������ ����� �� ���� ��������
�� ��� �� ���� ������������ �� � �� ������������� ��� �� ����� �� ��� ������ ��
������� ��� ��� ���� ����������� �� ��������� ���� �� ����� � ��� ���
������� �������� �� ������� ���� ����� �� � �� ��������� ���� ������ �� � �����
���� ��� ����
��� � ������� � ������� ���� ���
����������������� � ���� � ��� � ������� ���� �������� ������ ���
���� �������� �� ������� ���� ��� �� ��� ���� �� ���� ��� ���
���������� ���� � ������ ������� ��� ����� ��� �� ������ �������������
� �� ������������ �� ��� �������� ����� ���������� �������������� �� ��������
���������� �
�������� �� ��� �� ��� ����� �� ����������������� ���� �������
���������� �� ���� �� ������� ��� �� ����������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �������
� ����� � ������� �������
�������� � �� ���� �� ������� � ��������
�� �� �� ������� ������ ���� ������
� � ����������� ���� ��� �������
������ �� ������ �� ��
� � ����������� �� ��� �� ������� �
����������� ��� �� ���� ���� ��� ��
����������
� � ����������� � ��� �������� ���� ���
��� ���������� ����� �� �� �������
���������� �
��� ��������
��� ������������
������������ ��� ������������
��������� �� � ����������� ����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �� ��������
�� � � � ������� � ������� �� ��������
�� �������� ��� ������������� ���� �� ������� �������� � ������� ���� ��
������� �
� �� ������ �� ����������������� �
� ��� �� �� ������� ��� ��������� ���������� �� ������� �������� ������
�� �� ��������� �� �� ������ ��� �� ���� ��� ��������� ��
�������� �� � �� �����
� � ������ �������� ������� �
���� � ������ � �� �� ���� �� ������ ���� �� ������� � ������
��������
�� �������� � ������ ������� � ���������� �� ������� ��������� �� ����
�������� ���������������� ��� �������������� ��� ������� � ������������
�� �� � ������������� �� ��������� ����� ���� �� ������ ��������� �������� ����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� ������������
�� � � � ������� � ������� ������������
�������������� �������� � ������ ���� �� ������� �������� �� � �������� ��
������� ����� �
� ������������� ������� ��� �������� �� �����������
� �� ������� ����� ������������ ��� ��������
� �� ������� ����� ����� ������ ����� �������� ��� ���� �� �� ����
������� ��
��� ������ �� ����� ������� ���� �������� ���� � �������� �� ���� �����
����� �������� �� � �������� ����� ������� ��������
� ��� ��� �� ����� ��������� ��� �� ���� �������� �� ������������� � �� ����
���������� ��� ����� � ������������� ��� �� ������� ��� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
� ����� �������
����������������� ���� ����������� � ����� �� ������� ��� ����� ���������
�� ������� ������ �� � �� ������� � ����� ��� �������������� �� ������� ���
�������� ��� ����� �� � ��� �������������� ������� ��� ������� � �����������
�� �������� �������� �� ���� ��������� � ����� �� ������� ��� ��� �����������
���������� � ������ �� ����� ��������� � ��������� �����������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �������� ����� ������ �������
�� ������ �� ������� �� ��� ���� ������������� �� � ���� � ������� �� ���
������������ ������ �������� ���� ��� �������������
�� ������� � �����
�� ������ ������� ���
�����������������������
���� ���������������������������������
�� ������� � ������
��������������������������
������������� �� ��� �������������� ����������
� ����������� � � ������� �������� ����� ������ �������
����� �������� ������� ����� ������� �� �� ���� ����� ������ � ���
�������������������
���������� �
�������� ������ �������� � ������ �������� ������� � �� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �������� ����� ������ �������
�� ���� �������� ������� ��� ���� ��������� �� ���� ������ ���
������� � �� ���������� ��� ������
�� ������� � �����
�� ������ ������� ���
�����������������������
���� ��������������������������������
�� ������� � ������
�� � � ����� ������� ���
������ ����������������������
����
��������������������������
������������� �� ��� �������������� ����������
������ �� ���� ��� ���� �� ���������� �� � �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
�������� ������ ������ ���������
�� ������ ��������� ���� ������������� �� � ���� � � ����� ����� ���� ���
��� �� �������� �� �� �������� �� � ������������� �� ���� �� �����
�� ������� � �����
�������������������������������
���� ����������������������������� �����������
�� ������� � �����������������
�����������������������
� ����������� � � �������� ������ ������ ���������
����� �������� ������� ����� ������� �� �� ���� ����� ������ � �� ������
���������� �
�������� ������ �������� � ������ �������� ������� � ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
�������� ������ ������ ���������
�� ������� � �����
�������������������������������
���� ����������������������������� �����������
�� ������� � �����������������
�� ������ ����� �� �� �������
������ ����������������������
����
�����������������������


==================================================
FILE: Théorie/Security-2.pdf
==================================================

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
��������� ������ �������
�� � ������ � �� ������� � ����� ������������ �� ����� �� �� �� �����
�������� �� �� ����� �� ������� ���� ������ ��������� ���������� ��� ��
�� ��� ����� � ��� �������� �� ��������
����� �� ������ �� ������� ���������� �� ������� ��� ��� ������ � �������
� ���� ���� �� ��������� ��������� ��� ���� �������� ��������������
�������� � ������������ ���������� ���� �� ���� ������ ���� ���� �� ������ ��
�� �� �� ���� � ��� ������� ����� �� �����������
� ����������� � � ��������� ������ �������
����������� �� ������� ��� ��� ������� ����������
���������� �
������������ �� ������ ������������� ������� ���
���������������� �� ���� ��� �� ������ ������������� ����� ���� ���
����� �� � �� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �� ���������
�� ��� ����������� � �� ���� ������� ��� ������� � ������� ��� �� ��������
�� ��������� � ��� ��� �� ��������� ����� � ��� ������� � ��� �������
�� ��������� ��������������
�� ������� � �������������������
�������������
�����������
������ ������ ����������� � ������������� ������ ����� �
������ ���������������������
�
��������
�� � � �������� ���� ���� �������
���� ����������������������� ����� �������������������������
�� � � �������� ���� ���� ������
���� ����������������������� ����� �����������������
�� � � ������� ���� ���� ������� ��� ������� �����������
���� ������������������������������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
������� �� ���������
� ����������� � � ������� �� ���������
������������� �� �� ������� � ����� ������� � ��� ������� �� �������
� ��������� �� � ���������� �� ���
���������� �
���������� �� ������� �� � �������
��������� ��� ������� �� �������������
�������� � �������� �� ����� ������������ ���������
�������� ��� �� ���� ������ �� ������ � �� ������ �� ����
���������� �� ���������� �� ������� � �� ��� ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�������������� ��� ������ �������
�������� ��������������� ������� ��������
�� ������������� �������� � ������� ���� �� ��� ����� �� � ���� �� ��
�� �������� ��� ��������� �� �������� � ���������� �� ������ ��� ��
� ������ ���������� �� ���������� �� �� ��� �� ��� �� ��������������� ��� ������
�� ������� ����� ��������� � �� ���� �� ������ ������� �����������
��� ����������� ���������� ��� ����������� �� ������������� � ��� ����� ��
�� ���� �� ������� ������� ������ ���������� � ��� ���������� �� ������ ��
����������� ������� �� � �� ������ �� ��������������
�������
����� � ������ ������ � ����� �� � ����� �������� �� ��� �������������� ���
����� � �� ��� �� �� �������� �� ��������� � ������� ��������� �� ����� �
�� � ������� �� ����������� �� ������� �� �������� ����������
� ��� ���� ��� �������������� �� � ������� �� � �������������� ����� ������
�� �� � �� � ��� ��������� ��� ���� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
�������� ��������������� �����������
���� ������� �� ��������������� ��� �� � ������ ��� ����� �� � ���� �������� ��
�������� ���� ����� � �� ���� ���������� ��������� �� ���������
����������� �� � �� ������ �� ��������������� � ��� ����� �� ���� �� �������
��������� � ��� �������� ��� ��������� �� �� ��� ���� ��� ������������
��������� ���� �� ������ �� �� ����� �� ��� �������� ����������� ���
��� ������� �� ��������������
� ����������� � � �������� ���������������
����� ����������� � ��� ��������� �� ������� ����������
���������� �
����������� �� ��������� �� ��������� ���������� ����� ���
�������� ��� �������� ���������� � �������� �� ������� ��� ������
�������������� ����� � ��� �� ���������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
�������� ��������������� �����������
������� ���� �� ��� ������ ��� ���
� �������������
��� � ��������������������������������������������� � ���� �
� ����������� ���� �� ������
������ ����
���� ���� � ��������������� � �� ��
������ � ���� � ������� ������ � ���� � �������
� ����������������� ������
����� �������� ����� � � ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� ���������
�� ��� ����������� ����� �������� ��� �� ������ �� �������� � ���
������������� ��� ����� �� ������� ��������������� �� ������������ ��
������� �� �� � �� ����� ������ �� �� �������� ��������� ��� �������
� �������� �� ������������� � ����� ��� ������ � �� ��������� �� �� �����
�������� ������������ �����������
������ ����� � ������� � ���� ����� �����
�������� ��� � ��������� � ���� �
��������� ���� � ����������� ��������������� ���
��������� �� � ����� ������������ ��������
�� ������ � ������� �� ���� ��� ��� �������� ���� �� �� �� ����������� ���
���� ������ ����� ��� �� ���� �� �� �� ��� � �������� �� �������������� � ���
���� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� ���������
��������
������ � ���� ����� ����� �� � ��� �� ����
������ � ���� ����� ����� ���� � �� �� ������
������ � ���� ����� ����� �� � ���� ���� ����� ������ ��

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� ���������
������������� �� ����� ������������ � ����� �������� �� � ����������
������������
������ ����� � ������� � ���� ����� �����
�������� � ��� �
����������������� ����� � ����������� ���������������� ��������
������ ��������� � � � �����������
��������� �� � ������ ������������ ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� ��������� � ���
�� ���� �� ���� �������� �� ������� ��� ������� ��� �������� �� �� � ��
���� ������ � �� ��������� �� ��� ������������������ �������� ��� ��
��� ��� �� �� �������� ��� ��������� ���� ��� ���� ���� ��� ������ ���� ��
�� �� �� �������� ��� �������� �������� � ��� ���������� � � � ��������� ���
������ � ��� ����������� ������������ ��� ����� ��� ���������������� ���
������� �� ��������������� ���� ���� �� ������� ��� �� �������� ��� ����
��������
� ����������� � � ��� ���������
�������� �� �������� ��� � �� ���� �� ������� �������� �� � ��������������
���������� �
��������� ��� �������� � ���� ���� ������ �������������
��������� ��� � �� ������� ��� �� ���
���������� ��� ������� ����� �� ������� �� ��������� ����
��������� ��� ������� �� �������������
���������� ��� ��������� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
������� ���������
����������� �� �������� � ��� ����� ���� ����� ������������� ����� ���
������� �� ������������� ����������� �� �������� � ��������� �����
����������� � ��������� �� �������� ��� �� ���������
�� ������� � ���������������������
�����������
������ ���� ���������� � ������������� ������ ��������� �
�������� ���������� ��� ���� � ��� � � ����������
�� ���� �� ������������ � �������� �� �
�
� ����������� � � ������� ���������
�������� �� ��������� ����� � �� ���� �� ������� �������� �� � ��������������
���������� �
��������� ��� �������
����� �� ��������������� ���� �� ���������
��������� � �������������� � ����� � ���������� ���
������ � ��� ��������� � ��
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
�� �� ���������
���� �� ���� � ���� ������� ��� ����������� ���� �� �� �� ��� ��� ���
������� ������� �� � ������������� ��� � �� ����� ����� ��������� �� �� ���
� ����������� ����� �� ��� �� �� �� ������������� �� ��������� �� ���������()
���������� ��� ��������� �� �� �� � ��������� � �� ���� ����� ������ ��
�� ���������
����� �� �������� ���� �� ������
���� � ����� � � ����� � ������ � � ��� ��
�� ���� �� ��������� �������������������������� �
� ����������� � � �� �� ���������
����������� ��� ������� �� ������������� � ��� ������� �� �� �� � ���������
���������� �
��������� ��� �������
��� ������ �������� ������ �� ����� �� � � �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
���� � ��� ���������
���� �� ����� ��� �� ���� � ������ �� ����������� �� � ��� � ������ � ����� ��
�� ����� �� ���� � ������� ����� ����������� �� ��������� � ������������
�� ������ �� �� �������� �� � ���������� �� ���� ������� �����
����������� ���� ��� �������� ���� ��� ��� � �� ����� ������� ���
������ ������ �������������� � ������������� ������ ����� �
������ ������������������� � ������ ��
�� ���� �� �������������� �
�
�� ����� �� ��� �������� ��� �� ����� ����� ������������� ���� ��� ��������
���������
� ����������� � � ���� � ��� ���������
����������� ���� � ��� ���� ���� ��� ������ �� �� ������� ������ ��
�� ��������
���������� �
��������� ��� �������
�������� �� ���� ��������� �� � ��� ����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
���� ���������
����������� �� ������ � ��� ������ � ���������� ������ ��� ���� ����
��������� �� � ����� ��� ���������� ���������� �� �� ���� �� ������ �
������� ��� ����� �� � �� �������� �������� � ��� ���� �������� � ��� ��������
�� ������ � ���������� �� ��� �� ��������
����� �� ��������� ���� �� ������
������� � ����� � ������� � � ������ ��
����� �� �������
���� ��� ����������������������������� �
�������
��� ��� ���� ��������� �����
���� ���������������� ����� ����� ����������������
������� ���� ��������� ����� ��� ������� ���� ����� ���������
���� ���������������� ����� ����� ������ ������������������ ��
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
���� ���������
� ������� ��������� ���� ���
������ �������������� ������ ������ ������������� ������ ����� �
������ ������������ � ������ � ������
������ ����������������� �
�
�� �������������������
� ����������� ���� � ��������� �
� ����������� � � ���� ���������
��������� ��� ���� ���������� ���� ������ ������ �� � ������������
���������� �
��������� ��� �������
���������� ��������� ��� ������ ��� ���� ����������
��� ��� ���������� �� ���� � �� ���� ����� ������ �������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� ���������
����������� �� ���� ���� ��� � �� ��������� �������� �� ����������� ��
������ �� �� ��� � ���������� ������� �� � �� ���������� �� � ������� � �����
��� ���������� �� ����� ������ ����� ����� ���� �� � ��� ��� ����� ��
�� ��� �� ��� ����� ��� �� ����
� ���� �� � ������� �� ��� ��� � ���������� ��� ������� � ������� ��� ��� ��
��� �� ���� ���� �� �������� �
����� � ���� � ���������� �� ����� �� � � �
���������������� � ��� � ����������������������������� ���
� ���� ���� � � � � ���� �� � �� � �� � ��� �
� ����������� � � ��� ���������
� ���������� � ��� ����������� �� �� ����� ��� ������ �� �� ����
���������� �
��� ��� � �������� ������������� �� ��� ����� �� � �������������
������������ ����� ��������� ��� ������� ��� ���� �����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������
��� �������� ����� � ����� ���������
�� ������������ ������ �������� ��� �� � �� ������� ����������� �� �� ����
�� ������ ���� �� �� ����� �� �� � �� ����������� � ��� ���������� ����
�������� �� � �� ��������� � ��� ���� �������� �� ������� ��� �� ����������
������� � ���
����� ������������� �����������������������
��������� ��� �
��������� ��� ��� �
�������� ��� ������ �������������������� ���
����������������
� ����������� � � ��� ���������
��������� �� ��� ����������� ��� �� �������� ���������� �
��� � �������� �� ��� �������� ���� � ������� ���� �� � ���
����������� �� ��� ��� ������ � �� � ����������
������� � ���� �� ��������� �� ���������� ���� �� ���� ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
��� �� � ����
�� �� � ����� �� ����������� ��� ��� � ������� ���������� � �������� ��
������ ������� ���� �� ��� �� ����� �� ������������� ����� �� ��������
����� �� � ���� �������� � ���������� ������ ������������� � ������� �
��� ������� ���� ����� ���� �� ��������
� � ���� � ����������������� ������������������ � �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
� �� ����������
�� � �� ���������� ��� ��� � ������� ��� �������� � � ���� �� �� ��� ��
������� ���� �� ��� ��� � �� ��� ���� ������� ������ ���� ����� ��� �����
����������� ���������� ��� ����� �� � ����� �� ����� ��
�� ����� �� �� ��� ����� �� ������� ���� ������� ��� ������� ��� �� ���������
���� �� ��� � ������� �� ����� �� ������������� ���� ����� �� ���� �����
�������
� ���� �
� ���� �
� ����� ������������� ����� �
� ����
���������� � ���������
������� � ��� ���������������������
��
� ������ ���� � ����������������� �
�� ���� ���� ����
�� ������ �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
� ������ �� � ����
�� � ������ �� � ���� �������� ��� � ������ �� ���� �������� ���� ����� ���
��������� ��� ���� �������� �������������� �� �������������� �� ��� ����������
������� ������� ���� �� � �� �����������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
��� �� � ����
�� �� � ���� �� ��� � ��� ����� ������������� � �� ���� ���������� �� ��
��������� � ����� � ������� �� ������� ���� �������� �� ������� ��� �������
��� � �� ���� �� � ��������� �� � �������� �� ������� �� ������� � ���
�������� �� � ��������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
��� ����� � ��������
�� ��� ����������� �� ����� �� ���� ��� ��
���� ��� ��� ��� ����� � ��� ������� ���������
�� ���� ��� �������������
��� ����������� ������ ��� ������� ���
�� �������� �� ��� ��� �
��� �������� �� � �������� ���
������ �������� �� �������� �� ������� �
�� ������� ������ �����
������������ � ����� ��� �� �� ������������
� ��� ���� � �� �� ������� �� ��� �����
��������� �� �� �� ����������� �� ����
���� �� �� �� ����� �� � ������ ��� ���
�������� ��������� �� ���� �� �� � ����
�� � � ������ � ��� ���� �� ������
��� ����� ������ ��� ���� �� ������ �����
�� ������ �� ����� �� �������� ���
���������� ��� ��������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
������� �� � ����
�� ������ ���� ������� ��� ��� ���� ������� ��������� �� �� ����� �������
����� �������� ��������� �� �� �������� ���� �������� �� ��� �� ����� ����� ��
�������� �� ��������� �������� ���� ��� ������� �� �������� ���������
��������� ������������ ��� ���������� ����������� ����� ����������������
� ����������� � � ������� �������������������� ��������
����������� ��� ���� �������� �� ������ ������� ����� �� � �� ������� ��
�� � �����������
���������� � �� ������ �������� �� ������ � ��� ������������������ �� � ���
���� �������������� ������� ����� ��������� ����������� ���������������
�� � ���� ���� ���� � ������ ���� �� ������ ������������ ��� �� ����� ��� ���
� ������������ �� ������� �������� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
���������� �� � ����
�� ����������−������ ������� �� ������� ��� ������������ ������� ��
������� ��� ���� �������� � ��������� ��������������� �� ���������� �� ��
������� �� ������ �������� �� ��������
���� ��� �� ����� ����� � ��� � �������� �� ������� ��� ����� ��������� ��
������ � ������� ��� �������� � ��� ��� ����������� � ��� ����������
������� ���� � ���� � ��������� �� �������� �� ������������� �� �������� ��
����������� ��� ����������� ���������� �� � �������� ���������
�� � � � ������� � ���������� �� � ����
�� ��� ��������� �� �� ������� ���� ������ ������ �� �� �� ���� � ������ ���
����� ���������� ����� ��� ����������� ��������� ��� � �� ���� �� ������
���������� ����� � �� ���� ����� �������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
������������
�� ������������ ������� � ������� ������������� � ������� ��� �� �������
������� ��� ��� �� ���� �������� ����� ���� �� ������� ���������� �� ���� ��
������������� ��� ����� ���������
� ���� �
� ����� �
� ����� � ������� � ������� � ������� � � � �
� ���� � ������� � � � �
�� ����� �
�� ���� �
� ���� �
� ��� �� � ������ ������ ����� ��� �
� ������ �� � ������� ��� � ������������������ ��
�� ���� �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�� � ����
��� ��������� �������� ����� �����
���������� ���� ����� ��� ������� ��� �� ������ ����� ����� ����������
��������� ��������� ��� �� ������ ������ ��� ��� ��� ������� �� �� � ��
�� �� ����� �� ���� ���� �������� ���� �� ����� ��� ������� � ������
�������� ������ �� ����� �����������
� ��� ��� � ��������� ��� � �������� ��
� ��� ��� � ������������������ ������� � ���������� ��� � ����� ��� ��
� ����������� � � ��� ���������
����������� ������� �� ���������� ����� �� ���� �� ����� �� ��������������
���������� �
���������� �� ����� �� ��� � ��� �� ����� ������� �������� �����
��� ���������� ����� � ������� �� ������������� �� �������� ������������
����������� ��� ������������������ ��� �� ������� ���������� ���� ���
����������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� ��������� �������� ������ �����
������� ����� ������� �� ���� �������� ��� � ����� � ��� ������������
�� ����� �� �������� �� � ����� �� ���� �� ������ ������ � �������� ���
������� ������ ����� �� � �� ����� ���� ����� ���������� ����� �����������
������ ��� �� ���� ��� �������� ���� ��� ���� ��������� �� �� �� ������� �
� ��� ��� � �������������������������������������������� ������� ��
���������� ����� �� ��������� �� �������� ����� ������� ���� ��� ���� ��
������������� � ������ ��� ������� ������ ���������� ��� ������ ��� �� ���� ��
�� ������� �� � ����� ������� ���� ������� �� � �� ���������� �� ��������������
�� ����� �������
� ������ � ���� ��������� ����� ������ ����
���� �� �������� ���� ����������� �� ������ ������� � ��� �� ���� � ���
��������� �������� ��������� ������������ � ������� ��������� �� �� ��������
�� �� ���� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� ������� �� ����� � ����
�� ����� ������ �� ������ � �������� ���������� ��� ����� �� ����� ����
����� ����� ���� ���������� �� �� ����������� �� �������� ��� ����� ���� �
� ���� ������ � ����������������������������� �
�� ���������� �� � ��� ��� �� ������ ������ ��� ����� ������� ���
����������� ��� ���� ��� �� ���� �� �� ������� �� � �� � ��������� ���
��� ���� ���������� ������� �� ����� � ��� ������� � ��� �� ����� ���� � ���
� ���� ��� �� � ������������ ��� ��� ��� ��� �� ������� � ������ ��� �������
������ ��� �� ���� ������
� ����� ��� ����� ������� ��� ������ � ��� ��� �� ����� �� ������ �������
���� ���������� ��� ������� ����������� ��� � ��� ����� �� � �� ��
����� ���� �� ��� ���� � �� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� ������� �� ����� � ����
� ����������� � � ����
������� ���������� ���� ��������� ���� �� ���� ����� � ��� ������ ��
������� � ������ ��� ������� �������
���������� �
������������ ���� ��� �� ��������� � ����� ����� ������ �� � ��
������� �������� ������ ���� ����� � �
�������� ��� ������� �������� ������ ������ ��� ����� ����
������������ �� ������������� � ��� ��� ������� ��������� � ����������
��� �� ������ ���
������� �� ���� � �� ���� ��������� �� �� �� ������� �� �������
����
������������������������������������������������� ���� �����
�������������������������������������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
����������� ��������� ��� �� �� � ���
������������� ��� ������������ �� ��� ������� ���� �� ����� ���� � �������� ��
������������� ��� ��� ���������� ������� � ������ � �������� �� ���������
�� ����������� ������� ��� �� ���� ��������� �� ��������� � ��� �����
����������� �� ������� ������������������ ������� ��������� ����� ����
������������ ��� ��������� �� ������� ����� ����� ���� �
�������������������������������������������������
�������������������������������������������
� ����������� � � ����������� ��������� ��� �� �� � ���
������������������ �� � �� ���� ���� ��� ���� ����� ��� ����� ���������
���������� �
��� � ������� ������ ��� ��������������������
��� ����������� ������ ������������� �� �� ��������
�������� ��������� �� ����������� ������ ��� ����� ����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� �� �����
����� ������������� ���������� � ����� � �� ��������� �� ������� � ��
������� ������� �� �� ���� �� ��� ��� �� � �� ���� ���� �������� ����� �� ��
������ ��� �� ���� ��� ��� � �� ����� � ��������� � �� ���� �� ����� ���
�� ����� � ��� ����� ��������������
�� ������ �� ����� �� ���� ��������������� ���������� � ������ ���
����������
�� ����� �� �� ��� �� ����� �� ���� � ��� ���������� ��� �������������
������� ��������
�� ����� ��� ������ ��� � �������� ��������� ��������� �������
���� �� ������� � ��������
�� ��������� ��� ��������� ��������� ��������� ��������
�� � ��� ����� ��� ���� � �� �� ���� ���� ����� �������������
� ����������� � � ���������� �� �����
���������� � ������� ��� �� ������ ���� �� ����� ���� �� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� � ����� � �����
�� ���������� ����� �� � �������� ��� ��������� ������������ �� ����
������������� �� ���� ������ � ��� �� �������� �� ����������� ��� ����� �������
�� � ���� � �� ��� ������ ����� ��� �� ����� ��������� �������� ����� �������
���������� �� �� �� ����������� �� � ���� � ���������� �� ��� ���������� ��� ��
�� �� �� ������ ������� ����� ���� ��� ��� �������
���� � ����� � ����� � ���
��� ������ ����� ���� ��� ���� ���� �� ������� �������� ����� � � ���� ��
���������� �� ���� ����� ����� ����� ������ ���� ������ ������� ���������
� ��� ���������� ��� ���� �� ��� ��� �� �� �������� ��� �� ����
� �������
����� ����������� �� ���������� ��� ��� �� ������ ������� ���������� �� ���
��� ������ ������� ������� ����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� � ����� � �����

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� � ����� � ����� � ��������
�� � ��� ���� �� ����� ����� �� � �������� � ��� ����� ���������� �����������
������������ ���������� ���������� �������� � ��������� ������������� ��
��� �
��� ���� ������������� ���� ���� ���� �� ������ �����
��� �������������� ���� �� ����� ������� �� ��� �� ����������
�����
��������� ������ ��������� � ����������� �� �� ����� ��
� ������������ � ��� ���� � �� ��� �������� ��� ������ ��������
�������� ����� �������� ��� ���� ������ � ����������� ���� ������
�� ������������������ ��������� ���� �� ��� ���� ���������� ������ ���
� ������� ���� ������ � ������� � �� ���������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� ���������������
�� ���� ��� ���� �� �������� �� ������� ��� � �������� ������������� �� ��
������� ��� ����� ������������ ������������ �� ��� ���� ������ ����
�������� � ��� ��� ����������� ������� ������������ ��� ������ ��� ��
����������� �� �� ������ �� ������ � ������������������ ��������� �������
�� � �� �������� �� ��� ������ �� �� ������� �� �� ����� ��� ��� �� �� �� ������
��� ������� �� ���������� �������� �� ���������� �� �� ��� �����
���� ���� ������ � ������������������ ��������
�������������������������������� �
�������������������������������� ��������
���������������� �� ������ �� ������ ������ ��� � ��� �� ������ ���������
������� ��� ������� ����������� ��� � ����������� ������� �� ������� ����
��� ���������� �� �������� �� �� �� �� �������� �� �� ��� ����� �� �������� ��
��� ������ �� �� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� ���������������
���������� ������� ��������� �� ������������ �� �� ���������� �� �����
������ �
�������� �� ������� �� �� �� ����� �� � ������ � ��� �� �������� ��
������ ������� ���� ������� � ���� ����� ������ ��� � ������� � ����� ���
�������� ������������� �� ���� �� ��� �������� ��� ��� ��� � ��� ������
����
���� ������� ��������� ��� ������ � ��� �� ����������� �� ��� ������ �
���������������������������
����������� � ��� �������� ���� ����� ��������������
������������ �� � ����������� ��������� �
� �������������� ���������������� �� ����������������������
����������� � ��� �������� ���� �������������������������
����� �������� �� ������� ��� ����� ���� �� ����� �� ��� �� ���� ����� �
��� ����������� �� �������������� ���������� ������� ��� ���� ��
�������� �� ����� ������� �� ��� ������� ������ ����� ���� ���
�������������� �� ��� � ���������� � �� ��������� ���������� ��������
�� �� ��� ��������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���� ���������������
��� ������� ���� �� ���� ���� ���� �� ������� �������� ���� ��
���� ������ ������������ �� � �� ����� ������������ ������ ���������������
��� �� ������ �� ��� ���� �� �� � ���� ���� ��� � ��������� �� ��� � ���� � �
� ����������� � � ���� ���������������
�� �������� ����������������������� ��� ������� �� ����� ��
�� ��������� � ������������������ �������� � ����� � ��� � ������� �������
��������� � ��� ���������� ��� ��������� ����� ������������
���������� �
������������� �� ������ ������� ������� ����� �� ������
�������� ��� ����� �� ���� ������
��� ��� ���� ����� ��� � ������� � ��������� ������ ����� �� ��� �� ���
������������� ����� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
������������ ���� ��� ����� ������
�� ��� ���� ��� �������������� �� ����� �� ������ �� ������� ���
����������� �� ������ ������������ �� �������� ��� �����������
� ��������� �� ��� ���� �� ��� ���� �� �������� ������� ����� ��� � ��� ������
������ �� � �� ����� �� �������� ������ �� �������� �� � �� � ����� � � �
������� ��� ���������������� ��� ������� �� � �� �����/�����

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
������������ �������� � ����� ������
�� ���������� � ���� ����� ����� ��� �������� � �� � ������ ����� � ���
��� � ��������� �������������� ���� �� ������
����������������������� ����� � � ��������� �� ����� ������ �� ������ ���
��������� ����������� ������ ������ ������� ������ � ��� ����� � ��� ������
���������� ��� � ��������� �� ��� ���� ��������� �� ����� ����������
���� ���� ������ � ����������������������� �����
��������������������������������� ���������
��������������������������������� �����������
��������������������������������� ������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
������ ������� �� ��������
���������������� ������ ����� ������
����� �� �������� � ������� �� �� ���� ����� ���������� ����
������� ������ ����� �� � �����
����������������� ������� ����� ������
����� �� �������� � ������� �� �� ���� ���� �������� �������
������� ����� ��������� � � � ������� ��� ���� ���� ���� ������ ���
��� � ������� ��� � � �����
������ ���������� ����� ���������� ����� ������� ��
������� �� ������� ������� �� � �� ���������� ��� ����������� ��
������� ��� ��� ������ �� �� �������� ��� ������� �� �������� ������������


==================================================
FILE: Théorie/Security-3.pdf
==================================================

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� ��������� � ���
�� ���������� ��������� ��� ���� ��� � ��� ������ �� ��������� ���� �� ����
�������� ����������� �� ����������� �� �� �� ��� ���� ������ ���� �� � ��
� �� ���� �� �� �������� ������������ �� �� ���� �� ����� �� ������ ����
�� ���� �� ����
�� ������ ����� ��� ������� ��� ���� ���������� �� ��� �� ���� ��������� ����
����� ��� ��� ���� ���������� ����������� �� ������ ��������� ���� ��
� �� ���� �� �� ������� � ����� �� ���� �� ����� �� ������ ��� �������
� �������� ���� �� �� ������ ���� ����� ��� �� ������ �� � �������� ���� ��
�������� �� � ���������� ������� �� ���� ���������� �� ����� �� ��������
�� ���� ��� �� �� ����� ��� ���� � ������� �
�� � ��� ������� �� ��� �� ����� ������ �����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��������
���� ����� �������� �� ������� �� �� ��� ���� �� ������� � ��� �� ���� �� �
�� �� �� ������ �� � ��������������
�� ������� � ������������
������������
�����������
������ ����� � ������������� ������ ����� �
������ ������ � � �����
�
���� ������� �� ��������� ���� �� ��� �� ������ ���� �� �� �����������
�� �� ������� ��� ���� ������ ���� �� �� �� �� �� ���� � ������� ���� ��
��� ����� ����� ��� ���� ���� ������ ����� �� � �� � �� ���� �� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��������
���������� � �������� �
��� � �������������������������
����� � �������������
���� � ��� ����� � ������������������ � ��������� ����
���� ��������� ���� �� �
����������� �
���������� ��������������������� �����������������
������������������ � � �����������
������������ �
���������� ��������� ��������� �� ��������������������
������� ��� ���� � ������� ���������������������������� ��
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��������
�� �� �� �� ���� �
��������
��� ���� �
�������������������������������������������������� �
��� ������ � ������������������������������
��������������������������������
����������������������������������
���������
� ��� ������� ��������� ��� ������ ������� �� � ������������� � ��� ����
�������� ����� ������� � �� �������� ���� ����� ������ ��
�� ���������� �� ��������
�� ������� ���������� ��������� ��������� ��� ������ �� �������������� �� �
����� ��� ��� �� ������� ������������ �� �������� ��� �� ���� ����������� �� �
�������� �� ��� ���������� �� ���������� �� �� ���� �� � ��� �����������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��� ���
���� ����� �������� �� ������� �� �� ��� ���� �� ������� � ��� �� ���� �� �
�� �� �� ��� �� � ��� �� ��������
�� � ��� ������ ���� �������������� �� ��� ���� ������� �� �� ���� ����
����� �� ���� �������������� �� � ���� ���� �� ����� ����������� �����������
������ �� ����������� ��� �� �������� ��� ���������� � ��������� �������� ��
�� �� �� ����� ���� �� �������������� ������������
����� ������� � ����� ���������� ��� ����� ������� ���� ��� ���� ����
���������� �� � ���� � ��� ������� ���������������� ���� ��� ������������ �
�� ��������� ��� �� ���������� � ������� �� ����������� ��� �� ����
��������� ��������� �� �� �� �� ��� �� �� ����� ����������� ���� ��� �� �����
��� ��������� �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��� ��� � ��� � � ��
�� ��� � ��� ����� ���� ������� � ��� ����� �� ��� ��� �������� ����� � ��� ���
�� �� ��������� � ������ ����� ���� �������� �� ��� ���� ����� ��� ��� �� ���
������ ��� ������� �� ���� ��� ������� ���� ���� ������� �� � ����� ��
�� �������������������������������
������� ������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ��� ��� � ��� � � ��
���� ���������� ��� ������ ��� ���� ��� ����������� �� ���������� ��
� ������ � � ����� � �� ��� �� �� � ������� ����� ���� �� � ��������
� � ������� ������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � ���
���� ����� �������� �� ������� �� �� ��� ���� �� ������� ��� ���������
����������� �� ���� ���� ������ �� �� ���� ����� �� ��� �� � �� �������
� ������ �
�������� ������� ������� �
�������� �������������������������
�������� ����������������������� ������� � �� ���
�� ������ �
��� ��� ����� ����� ��� ��� ��������� �� �� �� �� ��������� ��� ����������
������������� ������� ����������������������� ��������
�� ����� �� ��� ����������� ��� ��������� ������ ����� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� ��������� � ���
�� ��� ��� � ����������� ��� ��� ������� ��� ������� �� ���� ��������� ��
������� �� ��������� ������ �� ����������� ����� ����������� �� ��� �� �
������ �� ������� ������� �� ��������� ������������ � �� ������� ����� ��
� ������� ������������ ����������� ����� � ��� �� ������ �� ������ �� ��
��� ���� �� ������� ��� �������� �� � ��� ���������
� ����������� � � ���������� ���������
�� ��������� �� ������ ������ �� ���� � �������� �� ������� �����
��������� ��� ����������� �� �� �� ������ ������� �� ���������� �� � ��
�����������
���������� �
��� ��� ������� ��������� ������������� ���� �� ����
���������������� ������� ��� ��� ������� �������������
��������� ��� ������� ���� ��������������� ��� ����� � ����������������
������������������������������������������������� ���������
�������������������������������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��������������� ��� ����� ������ � ���
�� ������ �� ��� ���������������������������� ����� �� ������ ���
� �������� �� �������� �� ������� ����� ���� ������ �� ��� �� ���������� �
��� ���� ��������� �����������
������������������������� �����������������
������ ���� �� ��� ������� �� ��������� ��� ������ ��� � ������
���������
������������������������� ������� �
���� ���� �� ��� ������� �������� ������ ����� � ��� ��
������������������������� ������������������������
������ ���� �� ��� ������� �� ������� ��� ������ ��� ������ �� ��� ���
� ������
��������������������������������� �������������������������
�������� ��������� ������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
���������� ������� � ���
����� ������� ��� ��� ��� �� ��� �� ��� ������������� �� �� ����� �� ����
��� ��� �������� � ����� � �� ������ �� ��������� �� ������� ������� �� �
�� ������� �� ��� ���� � ����� ���� �������� ����� �� �����
� ������ �
��� ��� � ��� �����������������
��� ��� � ���������� � �������� ��������
������������������� � ���� � �� ���� ������ ������
��������� ������� � ���� ����� ��
�����������
�� ������ �
��� ����������� �� ������ � ���������� ������������� �� ��� �� ���� ���
������� �� ���� �� ����� � ������� �� ����������� �� � �������� �� � ���� ����
����� �� � ������� �� �� ���� ��������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
���������� ���������������
��� � � ���� ��
�� ����� ��� �������� �������������� ����� ������ ��� ��� ���� ���� ������
� ��� ���� ��� ���� ���� � ���� �������� ���������� �
���������������������������� ��������������� ����� ����������
������ �����
��������������������������
���������������������������������������������
����������������������������������
��������������������������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���������� ���� � ��
������������� �� ���������� ���� �� ���� � �� ��� ������� �������
�������� ����� ������ �������� �� �� �� ������ �� � �� ������� ���
��������������� ��� ��� �� ������� �� � �� ����������� ���� ��� ������� ���
������������ ��� ����� ������ ��� ������ �� �������� �� ������� ��� ������
��� � ��� ����� ���� ��� ���� � �������� ����������
��� ���� � ���� ���� � ��� ����� �������� �� � ����� ���������� �� �� ��
���������� ����� ���� � �������� � ������� �� �� ������� � ��������
���� ��� ����� �� ������ ����� ����� � ���� �� ����� ������
���������� � �� � ��������� ���������� ��� ������� ��� �� ���� �����
��� ����� �� �� ����������� �� ������ �� ���� � ��� �������� ���
������� � ����� ����� � �� ��� ��������� ������ �� ������������ ��
������������ ���������� ���
������� � �� ��������� �� ������ �� ����� ������� ��� ��������� � ���
��� �� �������� �� ������ �� ��������������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
��� �� �� � ����������
�� �� �� �������� ����� ���� ���� � ��� �� ��������� ��� ������ �� �������
�������� ���������� ��� ��� ������� �� �������� ��� ����� �������� �� � ���
������ ����� ������ � ��������� �������������� ���� � � ������ �� ������ �
����� � ������� ������� � ���� �� ���� ������ ��� �� �� �� ������� ����
�������� ���� ������ ����� ���������� ���� � ��� ������� �����
���������������� ���� �� ���� ��� ������������
��� �� � ��������� � �� �� �� ������� ��� ���� �� �������� ����� �� ����� ��
� ������� ���� ������������ �� �������������� �� ��� �������� ����
���� ������
�� ���� ������ ������� � ����� ������� � �� ��� ������ �� �� ����� ���
�������� ��� ���� �������� ������ ��� ���� � ��� �������� ��� �� ������ ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���������� ������ ����� ������ � ������ �� � ������ ��
��� ������������ � ��� �� ����� ������� �������� ���� ��� ��������� ��������
���� ���������� � ������ �� ��� ������� ��������� �� ��� ���� ��� ��� �������
� ���������� ��� ����� ��� ������� ����� ����������� ��� �������� ���������
����
�� ���� ��� �� ��� ������ �� ��� ������� ����� ��� ������� �� ��������� ��
��� ������� �� ������� ��������� � ��� ���� ���� ������ � ��������� � ��� ��
����������

����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���������� ���������������
����� ���� �������� �� � ������ ��� �������������� ������������ �� ����
�������� ��� �������� ������������ �� � �� ���������� ���� �� ��� ������������
��� ��� ���� �� � ��� �� �������� �� �������� � �������� ��� �������������
����� � ��� ��� ����� � �� ����������� �� ����� ��� ��� ������ ���������
��� ������������� ������� ���� �������
��������������������������������������������������� ������
����� � ��� ��� ����� � �� �������� �� � ��� ������������� ���� ������
��������������������������������������������������� ���
��������������������������������������������������� �
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���������� ���������������
������������� �� ������������ �� ������� ����� ��� ��� �� �������
��������������������������������
����� � ���� �������������� ���� ��������� ���� ������������ ����
���� ��������
����������������������������������������������
���������������������������������������������������
� ����������� � � ����� ���� ������ ���� � �������������� �������
������
����������� �� ���� ������ ���� �������� ������ � ���� ����������� ������������
���������� �
������������ ������ ���� �� ���� �� ��� �� ���� ��� ���� ������
���������� ��� ��� ������� ���������
�������������� �� ���� �� ��� ��� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���������� ����������� ����������
�� ������� ����������� ���� ������� �� �� �������� �� �� ����� ����������
��� ��� ���� � ��������� �� ����� ������ ��� ���� �������� �� �������� ��
��� ������� �� �� ������ ���� ������ ���� ������ ��� � ���������� �� �������
��� �������� ����� �� � ������� ������� � ������ ����� ����� ����� �����
�������� ���� ��� ������� �����
���� ��� � ������� �� � ��� ��� ��� ������������ �� ���������� ���� � ����
�� ��� �� �������� ���� �������� ���� �������� ���� �������� �������������
����������� � � ��� �������� �� � ���������� ������ ��� �� ������ �� ������������
� ����������� � � ����������� ���������� ����
� ������ ���������� ��� ������� �� ������������� ���� �������
���������� �
�� ������� ������� ��� ������� ������ �� ������������� ���� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���� ���������������
������������� �� �������� ����������� ��� ������� ����� ���� ������� ���
�������� � ������� �
���������.������ ��������� ���.���������
���� �������� ��������� �� ���� ������� ��� ������ �� ��������������
��������� ������� ���� �������������� �����
�� � ���������� ���� �������� ���� � ���� ������� �� ��� ������� �� � ���
�������� ���� ���� ������� �� �������� ��� �������� ������ ���
� ��������� ����� ��� �� ������
��� ��������� �� �� �������� ����� ������� �������� � �� � ���
� �������� ����������� ��������� �� �� � ���� �� � ��������� ����� ���
�����
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
����������
���� ���������
���� ��� �� ���� �� ���� ����� �� ����� �� � ��� ����� ���� ������ ����
����� �� �� ��� �� �� ������� ���� �� �� ���� ��� ������ � ����� ��
� ��������� �� ����� ����������� ��� ��������
� ������ �
�������� ����� �� �
��� � ��� � �� �� � ���� ��������� �� � �
������ ���� �����
�
�
�� ������ �
� ������ ��� � ����������������������������� ��
�� �� ��� ���� ���� ��� ���� �� ��� ��� ��� �[ ]� �� ����������� ��
������������ � ����� �� ����� �� ����� ������ ��� �������� �� ����� �����
����� ���������� � ����� �������� � ��� ��� ����������� ����� �������
�������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�����
���� ���������
�� � ���������� � ��� �� ����������� ���������� �� ������ ��� �� �����
����������� ���� ��� ������� ���� ��������� ���� � ��� �������� ����������
�������� ���������� �� � �� �������� ������� � ��� ������� �����
�������� ������� �������� � �� � ��������� �� ������ �� ��� � ���
� ��� ��� ����� � ������������ ������ �� ��� �� � ��� ��� ������
����������� ���
�������� ���� ��� �� �������������� ���� ����������� � ��� �� ��������
��� ��������� ��� ���� �������� ���� ����������� ������ ���������
���� ���� ���
�������� ����������� � ��� �� ����������� ����� � ���� ���� ������
������������� ���������� ������ ���������� ���
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�����
���� ���������
� ����������� � � ������������ ��� ������
������ �� ������� ������������ �������� � �� ����������� ������������ ��
��� ������������ ����������� � ��� �� �������� ���������� �
���������� � ��� ����������� �� ������ ���� ����� � �� �������� ��
������������ �� ������ ��������� �� � ���� ����� � �� ������� ��
�������� �� ��� �� ������� �������� ���� � ��������� ���� ��������
�������� �� ������
���� �� ��� � �� �� �� �������������
������� ��� � ������� �� � �������
�� ���������� � �������������� ����� � ���
�� ��������� �� �������
����� � �������� ����� ������ ������������� � ��
� � ���� � � ��������
�����
���� ������� ����������
�� ���������� �� ������� ���� ������ ��� �� �������������� ��������
������� ��������� ��� �� �������� ��� ��� ���������� ��� �������� �� ���
����������� � �������� ������ �
�������� �� ������� ������ �� �������� �� ������� ������� ��� �
������ �����
��������� ��� ��� ������� �� ���������� ��� � ������ ����
�� ��� ��� ������� �� ��������� ������ ��� ������� ���������������
������������ �������� �� ����� � �
�� � ������� �� ����������� �� ������� ��� ��������� �� � �� �� ��
����������� � ������� ���� ������� ���� �� ����������� �����������
�� ������ �� ����� ����� ���� � ������� ������������ ����� ������� ��
� ������ �� ������ � ���� ������ ����� ���� �������
